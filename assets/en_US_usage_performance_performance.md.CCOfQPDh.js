import{_ as e,c as a,o as i,ah as s,gq as o,gr as r,gs as n,gt as l,gu as d,gv as c}from"./chunks/framework.DGOuNAW6.js";const v=JSON.parse('{"title":"Performance Test","description":"","frontmatter":{},"headers":[],"relativePath":"en_US/usage/performance/performance.md","filePath":"en_US/usage/performance/performance.md"}'),h={name:"en_US/usage/performance/performance.md"};function u(m,t,p,b,g,f){return i(),a("div",null,[...t[0]||(t[0]=[s('<h1 id="performance-test" tabindex="-1">Performance Test <a class="header-anchor" href="#performance-test" aria-label="Permalink to “Performance Test”">​</a></h1><p>GridBeat performance verification tests for GridBeat data collection, distribution, and storage capabilities. The tests also concurrently verify various functions, including the rule engine, edge computing, and cloud-edge collaboration. The tests monitor device connections, connection stability, message success rates, CPU usage, network IO, and memory status. Here are the detailed test scenarios.</p><h2 id="test-scenarios" tabindex="-1">Test Scenarios <a class="header-anchor" href="#test-scenarios" aria-label="Permalink to “Test Scenarios”">​</a></h2><p>The following test scenarios have been planned according to the actual business needs:</p><h3 id="data-collection-test-1" tabindex="-1">Data Collection Test 1 <a class="header-anchor" href="#data-collection-test-1" aria-label="Permalink to “Data Collection Test 1”">​</a></h3><table tabindex="0"><thead><tr><th>Number of Devices</th><th>Number of Data Tags per Device</th><th>Collection Frequency</th><th>Total Data Tags</th></tr></thead><tbody><tr><td>500</td><td>30</td><td>1s</td><td>15000</td></tr></tbody></table><p>Utilizing the Modbus TCP protocol, GridBeat establishes a simulated connection with 500 devices. It collects data from 30 data tags per device, at a rate of one collection per second. This results in an aggregate collection of 15,000 data tags.</p><h3 id="data-collection-test-2" tabindex="-1">Data Collection Test 2 <a class="header-anchor" href="#data-collection-test-2" aria-label="Permalink to “Data Collection Test 2”">​</a></h3><table tabindex="0"><thead><tr><th>Number of Devices</th><th>Number of Data Tags per Device</th><th>Collection Frequency</th><th>Total Data Tags</th></tr></thead><tbody><tr><td>500</td><td>30</td><td>0.5s</td><td>15000</td></tr></tbody></table><p>Utilizing the Modbus TCP protocol, GridBeat establishes a simulated connection with 500 devices. It collects data from 30 data tags per device, at a rate of two collections per second. This results in an aggregate collection of 15,000 data tags within 0.5s.</p><h3 id="data-distribution-test-1" tabindex="-1">Data Distribution Test 1 <a class="header-anchor" href="#data-distribution-test-1" aria-label="Permalink to “Data Distribution Test 1”">​</a></h3><table tabindex="0"><thead><tr><th>Number of Devices</th><th>Number of Data Tags per Device</th><th>Total Data Tags</th><th>Distribution Method</th></tr></thead><tbody><tr><td>1</td><td>50</td><td>50</td><td>GridBeat API</td></tr></tbody></table><p>Utilizing the Modbus TCP protocol, GridBeat simulates a connection with a single device and writes 50 data tags to it via the GridBeat API interface. The test measures the total time taken to complete this data distribution task.</p><h3 id="data-distribution-test-2" tabindex="-1">Data Distribution Test 2 <a class="header-anchor" href="#data-distribution-test-2" aria-label="Permalink to “Data Distribution Test 2”">​</a></h3><table tabindex="0"><thead><tr><th>Number of Devices</th><th>Number of Data Tags per Device</th><th>Total Data Tags</th><th>Distribution Method</th></tr></thead><tbody><tr><td>4</td><td>50</td><td>200</td><td>GridBeat API</td></tr></tbody></table><p>Utilizing the Modbus TCP protocol, GridBeat simulates connections with 4 devices and transmits a total of 200 data points to these devices via the GridBeat API interface. The test aims to measure the total time required to accomplish this data distribution task.</p><h3 id="bulk-write-test-to-tdengine" tabindex="-1">Bulk Write Test to TDengine <a class="header-anchor" href="#bulk-write-test-to-tdengine" aria-label="Permalink to “Bulk Write Test to TDengine”">​</a></h3><p>A simulation is run where GridBeat collects data from 100 devices, each containing 100 data tags. This adds up to a total of 10,000 data tags being reported per second to the EMQX Enterprise Edition. This data is then written in real-time to the TDengine database using EMQX Rule Engine.</p><h2 id="test-architecture" tabindex="-1">Test Architecture <a class="header-anchor" href="#test-architecture" aria-label="Permalink to “Test Architecture”">​</a></h2><h3 id="test-resources" tabindex="-1">Test Resources <a class="header-anchor" href="#test-resources" aria-label="Permalink to “Test Resources”">​</a></h3><p>The Modbus simulator emulates onsite PLC devices. GridBeat connects to this simulator via Modbus TCP, collects data, and transmits it to the EMQX Enterprise Edition using the MQTT protocol. This data is then written into TDengine utilizing EMQX&#39;s built-in rule engine.</p><p>The GridBeat, EMQX Enterprise Edition, and Modbus simulator resources used are as follows:</p><p>Setup 1: Laptop</p><ul><li>Modbus Simulator</li><li>JMeter</li></ul><p>Setup 2: Linux Server (4C/16G)</p><ul><li>GridBeat V2.2.1</li><li>EMQX Enterprise Edition</li><li>TDengine</li><li>Cloud-Edge Collaboration Management Software</li></ul><h3 id="test-architecture-diagram" tabindex="-1">Test Architecture Diagram <a class="header-anchor" href="#test-architecture-diagram" aria-label="Permalink to “Test Architecture Diagram”">​</a></h3><p><img src="'+o+'" alt="Simulation"></p><h3 id="test-tools" tabindex="-1">Test Tools <a class="header-anchor" href="#test-tools" aria-label="Permalink to “Test Tools”">​</a></h3><p><b>Modbus Simulator</b></p><p><a href="https://www.hmisys.com" target="_blank" rel="noreferrer">PeakHMI Modbus TCP slave simulator</a> is a full-featured, high-performance Modbus simulator.</p><p><b>JMeter</b></p><p>JMeter is a Java-based test tool to simulate a heavy load on a server, group of servers, network, or object to test its strength or to analyze overall performance under different load types.</p><h2 id="test-conclusion-and-report" tabindex="-1">Test Conclusion and Report <a class="header-anchor" href="#test-conclusion-and-report" aria-label="Permalink to “Test Conclusion and Report”">​</a></h2><h3 id="data-collection-test-1-1" tabindex="-1">Data Collection Test 1 <a class="header-anchor" href="#data-collection-test-1-1" aria-label="Permalink to “Data Collection Test 1”">​</a></h3><p>Utilizing the Modbus TCP protocol, GridBeat establishes a simulated connection with 500 devices. It collects data from 30 data tags per device, at a rate of one collection per second. This results in an aggregate collection of 15,000 data tags within one second.</p><ul><li>The GridBeat collection program consumes about 124.3% of CPU resources and approximately 0.6% of memory resources.</li><li>As for the server, around 55% of CPU resources and approximately 9.8 GB of memory are free.</li></ul><p><img src="'+r+'" alt="Test1"></p><h3 id="data-collection-test-2-1" tabindex="-1">Data Collection Test 2 <a class="header-anchor" href="#data-collection-test-2-1" aria-label="Permalink to “Data Collection Test 2”">​</a></h3><p>Utilizing the Modbus TCP protocol, GridBeat establishes a simulated connection with 500 devices. It collects data from 30 data tags per device, at a rate of two collections per second. This results in an aggregate collection of 15,000 data tags within 0.5s.</p><ul><li>The GridBeat collection program consumes about 111.3% of CPU resources and approximately 1.1% of memory resources.</li><li>As for the server, around 35% of CPU resources and approximately 9.5 GB of memory are free.</li></ul><p><img src="'+n+'" alt="Test2"></p><h3 id="data-distribution-test-1-1" tabindex="-1">Data Distribution Test 1 <a class="header-anchor" href="#data-distribution-test-1-1" aria-label="Permalink to “Data Distribution Test 1”">​</a></h3><p>Utilizing the Modbus TCP protocol, GridBeat simulates a connection with a single device and writes 50 data tags to it via the GridBeat API interface. The test measures the total time taken to complete this data distribution task.</p><p>GridBeat writes 50 data tags to a single device, where the maximum, minimum, and average response times are 159 ms, 3 ms, and 91 ms, respectively. The total time taken to complete the operation is 159 ms.</p><p><img src="'+l+'" alt="Test3"></p><h3 id="data-distribution-test-2-1" tabindex="-1">Data Distribution Test 2 <a class="header-anchor" href="#data-distribution-test-2-1" aria-label="Permalink to “Data Distribution Test 2”">​</a></h3><p>Utilizing the Modbus TCP protocol, GridBeat simulates connections with 4 devices and transmits a total of 200 data points to these devices via the GridBeat API interface. The test aims to measure the total time required to accomplish this data distribution task.</p><p>GridBeat writes 200 data tags to 4 devices, where the maximum, minimum, and average response times are 107 ms, 3 ms, and 52 ms, respectively. The total time taken to complete the operation is 107 ms.</p><p><img src="'+d+'" alt="Test4"></p><h3 id="bulk-write-test-to-tdengine-1" tabindex="-1">Bulk Write Test to TDengine <a class="header-anchor" href="#bulk-write-test-to-tdengine-1" aria-label="Permalink to “Bulk Write Test to TDengine”">​</a></h3><p>A simulation is run where GridBeat collects data from 100 devices, each containing 100 data tags. This adds up to a total of 10,000 data tags being reported per second to the EMQX Enterprise Edition. This data is then written in real-time to the TDengine database using EMQX Rule Engine.</p><ul><li>EMQX consumes about 91.2% of CPU resources and approximately 1.2% of memory resources.</li><li>As for the server, around 13% of CPU resources and approximately 156 MB of memory are free.</li></ul><p><img src="'+c+'" alt="Test5"></p>',54)])])}const D=e(h,[["render",u]]);export{v as __pageData,D as default};
