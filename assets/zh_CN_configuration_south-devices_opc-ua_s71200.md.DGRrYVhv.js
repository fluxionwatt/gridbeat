import{_ as d,c as r,o as e,ah as n,lb as a,lc as o,ld as s,le as i}from"./chunks/framework.DGOuNAW6.js";const _=JSON.parse('{"title":"Siemens S7-1200 连接示例","description":"","frontmatter":{},"headers":[],"relativePath":"zh_CN/configuration/south-devices/opc-ua/s71200.md","filePath":"zh_CN/configuration/south-devices/opc-ua/s71200.md"}'),I={name:"zh_CN/configuration/south-devices/opc-ua/s71200.md"};function l(g,t,T,U,N,h){return e(),r("div",null,[...t[0]||(t[0]=[n('<h1 id="siemens-s7-1200-连接示例" tabindex="-1">Siemens S7-1200 连接示例 <a class="header-anchor" href="#siemens-s7-1200-连接示例" aria-label="Permalink to “Siemens S7-1200 连接示例”">​</a></h1><p>Siemens S7-1200（简称 S7-1200）是一款紧凑型、模块化的 PLC，可完成简单逻辑控制、高级逻辑控制、HMI 和网络通信等任务的控制器。</p><p>本节将演示如何通过 GridBeat OPC UA 插件连接 S7-1200。</p><h2 id="连接-opc-ua-server-用户名-密码" tabindex="-1">连接 OPC UA Server（用户名/密码） <a class="header-anchor" href="#连接-opc-ua-server-用户名-密码" aria-label="Permalink to “连接 OPC UA Server（用户名/密码）”">​</a></h2><ol><li><p>在 TIA V16 编程软件中选择目标 PLC，右键打开 <strong>属性</strong> -&gt; <strong>常规</strong> -&gt; <strong>OPC UA</strong>。</p></li><li><p>打开 <strong>访问服务器</strong> 的 <strong>激活 OPC UA 服务器</strong> 选项。</p></li></ol><p><img src="'+a+'" alt="s71200-1"></p><ol start="3"><li><p>在 <strong>服务器上可用的安全策略</strong> 列表中勾选需要的安全策略，如果安全需求不是特别高，可以只勾选 <strong>无安全设置</strong>，这样读写请求的速度会快一些。</p></li><li><p>在 <strong>可信客户端</strong> 部分勾选 <strong>运行过程中自动接受客户端证书</strong>。</p></li><li><p>在 <strong>访客认证</strong> 部分关闭 <strong>启用访客认证</strong>。</p></li><li><p>在 <strong>用户名和密码认证</strong> 部分勾选 <strong>启用用户名和密码认证</strong>。</p></li><li><p>在 <strong>用户管理</strong> 列表中添加用户名和密码。</p></li><li><p>下载程序到 PLC。</p></li></ol><h2 id="添加程序块" tabindex="-1">添加程序块 <a class="header-anchor" href="#添加程序块" aria-label="Permalink to “添加程序块”">​</a></h2><ol><li><p>在 TIA V16 编程软件中选择目标 PLC，打开 <strong>程序块</strong> -&gt; <strong>添加新块</strong>，添加名为 OPC UA Block 的 <strong>全局DB</strong> 块，在 OPC UA Block 中为每一个类型添加一个数据点，设置 <strong>名称</strong> 与<strong>数据类型</strong> 的类型应相同。</p></li><li><p>勾选所有数据的点的 <strong>从 HMI/OPC UA/Web API 可访问</strong> 和 <strong>从 HMI/OPC UA/Web API 可写</strong> 选项。</p></li></ol><p><img src="'+o+'" alt="s71200-2"></p><ol start="3"><li>下载程序到 PLC。</li></ol><h2 id="添加服务器接口" tabindex="-1">添加服务器接口 <a class="header-anchor" href="#添加服务器接口" aria-label="Permalink to “添加服务器接口”">​</a></h2><ol><li>在 TIA V16 编程软件中选择目标 PLC， 打开 <strong>OPC UA 通信</strong> -&gt; <strong>服务器接口</strong> -&gt; <strong>新增服务器接口</strong>，添加名为 ServerInterfaces_1 的接口，拖动右侧 <strong>OPC UA 元素</strong> -&gt; <strong>项目数据</strong> -&gt; <strong>程序块</strong> 中的 OPC UA Block 到左侧的 <strong>OPC UA 服务器接口</strong> -&gt; <strong>Browse name</strong> -&gt; <strong>ServerInterfaces_1</strong> 下。</li></ol><p><img src="'+s+'" alt="s71200-3"></p><ol start="2"><li>下载程序到 PLC。</li></ol><h2 id="配置-gridbeat" tabindex="-1">配置 GridBeat <a class="header-anchor" href="#配置-gridbeat" aria-label="Permalink to “配置 GridBeat”">​</a></h2><ol><li><p>通过 UaExpert 软件查看 PLC 测点信息，参考 <a href="./uaexpert.html">UaExpert</a>。</p><p><img src="'+i+'" alt="s71200-4"></p></li><li><p>GridBeat 新增南向 OPC UA 设备，打开 <strong>设备配置</strong>，填写目标 PLC 的 <strong>端点 URL</strong>，用户名/密码，无需添加证书/密钥。</p></li><li><p>可以修改<strong>更新模式</strong>为 Subscribe 或 Read&amp;Subscribe，以 OPC UA 订阅方式获取数据。</p></li><li><p>根据测点信息添加 <strong>Groups</strong> 和 <strong>Tags</strong>。</p><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>Siemens S7-1200 的 <strong>NODEID</strong> 是数字形式的，需要根据实际的数值设置 GridBeat 的地址。</p></div><p>数据类型对应关系:</p><table tabindex="0"><thead><tr><th>PLC 数据类型</th><th>OPCUA 数据类型</th><th>GridBeat 数据类型</th></tr></thead><tbody><tr><td>AOM_IDENT</td><td>UInt32</td><td>UINT32</td></tr><tr><td>Bool</td><td>Boolean</td><td>BOOL</td></tr><tr><td>Byte</td><td>Byte</td><td>UINT8</td></tr><tr><td>CONN_ANY</td><td>UInt16</td><td>UINT16</td></tr><tr><td>CONN_OUC</td><td>UInt16</td><td>UINT16</td></tr><tr><td>CONN_PRG</td><td>UInt16</td><td>UINT16</td></tr><tr><td>Char</td><td>Byte</td><td>UINT8</td></tr><tr><td>DB_ANY</td><td>UInt16</td><td>UINT16</td></tr><tr><td>DB_DYN</td><td>UInt16</td><td>UINT16</td></tr><tr><td>DB_WWW</td><td>UInt16</td><td>UINT16</td></tr><tr><td>DWord</td><td>UInt32</td><td>UINT32</td></tr><tr><td>Date</td><td>UInt16</td><td>UINT16</td></tr><tr><td>DInt</td><td>Int32</td><td>INT32</td></tr><tr><td>EVENT_ANY</td><td>UInt32</td><td>UINT32</td></tr><tr><td>EVENT_ATT</td><td>UInt32</td><td>UINT32</td></tr><tr><td>EVENT_HWINT</td><td>UInt32</td><td>UINT32</td></tr><tr><td>HW_ANY</td><td>UInt16</td><td>UINT16</td></tr><tr><td>HW_DEVICE</td><td>UInt16</td><td>UINT16</td></tr><tr><td>HW_DPSLAVE</td><td>UInt16</td><td>UINT16</td></tr><tr><td>HW_HSC</td><td>UInt16</td><td>UINT16</td></tr><tr><td>HW_IEPORT</td><td>UInt16</td><td>UINT16</td></tr><tr><td>HW_INTERFACE</td><td>UInt16</td><td>UINT16</td></tr><tr><td>HW_IO</td><td>UInt16</td><td>UINT16</td></tr><tr><td>HW_IOSYSTEM</td><td>UInt16</td><td>UINT16</td></tr><tr><td>HW_PWM</td><td>UInt16</td><td>UINT16</td></tr><tr><td>HW_SUBMODULE</td><td>UInt16</td><td>UINT16</td></tr><tr><td>Int</td><td>Int16</td><td>INT16</td></tr><tr><td>LReal</td><td>Double</td><td>DOUBLE</td></tr><tr><td>OB_ANY</td><td>Int16</td><td>INT16</td></tr><tr><td>OB_ATT</td><td>Int16</td><td>INT16</td></tr><tr><td>OB_CYCLIC</td><td>Int16</td><td>INT16</td></tr><tr><td>OB_DELAY</td><td>Int16</td><td>INT16</td></tr><tr><td>OB_DIAG</td><td>Int16</td><td>INT16</td></tr><tr><td>OB_HWINT</td><td>Int16</td><td>INT16</td></tr><tr><td>OB_PCYCLE</td><td>Int16</td><td>INT16</td></tr><tr><td>OB_STARTUP</td><td>Int16</td><td>INT16</td></tr><tr><td>OB_TIMEERROR</td><td>Int16</td><td>INT16</td></tr><tr><td>OB_TOD</td><td>Int16</td><td>INT16</td></tr><tr><td>PIP</td><td>UInt16</td><td>UINT16</td></tr><tr><td>PORT</td><td>UInt16</td><td>UINT16</td></tr><tr><td>RTM</td><td>UInt16</td><td>UINT16</td></tr><tr><td>Real</td><td>Float</td><td>FLOAT</td></tr><tr><td>SInt</td><td>SByte</td><td>INT8</td></tr><tr><td>String</td><td>String</td><td>STRING</td></tr><tr><td>Time</td><td>Int32</td><td>INT32</td></tr><tr><td>TimeOfDay</td><td>UInt32</td><td>UINT32</td></tr><tr><td>UDInt</td><td>UInt32</td><td>UINT32</td></tr><tr><td>UInt</td><td>UInt16</td><td>UINT16</td></tr><tr><td>USInt</td><td>Byte</td><td>UINT8</td></tr><tr><td>WChar</td><td>UInt16</td><td>UINT16</td></tr><tr><td>WString</td><td>String</td><td>STRING</td></tr><tr><td>Word</td><td>UInt16</td><td>UINT16</td></tr></tbody></table></li></ol><h2 id="测试点位-1" tabindex="-1">测试点位 1 <a class="header-anchor" href="#测试点位-1" aria-label="Permalink to “测试点位 1”">​</a></h2><table tabindex="0"><thead><tr><th>名称</th><th>地址</th><th>属性</th><th>类型</th></tr></thead><tbody><tr><td>DeviceManual</td><td>3!DeviceManual</td><td>Read</td><td>STRING</td></tr><tr><td>DeviceRevision</td><td>3!DeviceRevision</td><td>Read</td><td>STRING</td></tr><tr><td>EngineeringRevision</td><td>3!EngineeringRevision</td><td>Read</td><td>STRING</td></tr><tr><td>HardwareRevision</td><td>3!HardwareRevision</td><td>Read</td><td>STRING</td></tr><tr><td>OperatingMode</td><td>3!OperatingMode</td><td>Read</td><td>INT32</td></tr><tr><td>OrderNumber</td><td>3!OrderNumber</td><td>Read</td><td>STRING</td></tr><tr><td>RevisionCounter</td><td>3!RevisionCounter</td><td>Read</td><td>INT32</td></tr><tr><td>SerialNumber</td><td>3!SerialNumber</td><td>Read</td><td>STRING</td></tr><tr><td>SoftwareRevision</td><td>3!SoftwareRevision</td><td>Read</td><td>STRING</td></tr></tbody></table><h2 id="测试点位-2" tabindex="-1">测试点位 2 <a class="header-anchor" href="#测试点位-2" aria-label="Permalink to “测试点位 2”">​</a></h2><table tabindex="0"><thead><tr><th>名称</th><th>地址</th><th>属性</th><th>类型</th></tr></thead><tbody><tr><td>SInt</td><td>4!12</td><td>Read Write</td><td>INT8</td></tr><tr><td>Int</td><td>4!9</td><td>Read Write</td><td>INT16</td></tr><tr><td>DInt</td><td>4!6</td><td>Read Write</td><td>INT32</td></tr><tr><td>Byte</td><td>4!4</td><td>Read Write</td><td>UINT8</td></tr><tr><td>UInt</td><td>4!17</td><td>Read Write</td><td>UINT16</td></tr><tr><td>UDInt</td><td>4!16</td><td>Read Write</td><td>UINT32</td></tr><tr><td>Real</td><td>4!11</td><td>Read Write</td><td>FLOAT</td></tr><tr><td>LReal</td><td>4!10</td><td>Read Write</td><td>DOUBLE</td></tr><tr><td>Bool</td><td>4!3</td><td>Read Write</td><td>BOOL</td></tr><tr><td>String</td><td>4!13</td><td>Read Write</td><td>STRING</td></tr></tbody></table>',21)])])}const c=d(I,[["render",l]]);export{_ as __pageData,c as default};
