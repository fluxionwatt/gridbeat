import{_ as e,c as t,o as r,ah as s,gD as o,gE as i,gF as n,gG as d,gH as c}from"./chunks/framework.D2dsaVOY.js";const _=JSON.parse('{"title":"快速开始","description":"","frontmatter":{},"headers":[],"relativePath":"quick_start/quick_start_cn.md","filePath":"quick_start/quick_start_cn.md"}'),l={name:"quick_start/quick_start_cn.md"};function p(h,a,g,b,m,k){return r(),t("div",null,[...a[0]||(a[0]=[s(`<h1 id="快速开始" tabindex="-1">快速开始 <a class="header-anchor" href="#快速开始" aria-label="Permalink to “快速开始”">​</a></h1><p>本文档需要先根据 <a href="https://github.com/fluxionwatt/gridbeat/README-CN.md" target="_blank" rel="noreferrer">安装运行</a> 成功运行 GridBeat，并且能通过浏览器打开 GridBeat 的管理面板。</p><h2 id="启动-modbus-tcp-模拟器" tabindex="-1">启动 Modbus TCP 模拟器 <a class="header-anchor" href="#启动-modbus-tcp-模拟器" aria-label="Permalink to “启动 Modbus TCP 模拟器”">​</a></h2><p>提供两种 Modbus TCP 模拟器，根据情况运行一种模拟器即可。</p><h3 id="gridbeat-自带模拟器" tabindex="-1">GridBeat 自带模拟器 <a class="header-anchor" href="#gridbeat-自带模拟器" aria-label="Permalink to “GridBeat 自带模拟器”">​</a></h3><p>GridBeat Release 中自带了在 Linux 上运行的测试模拟器，可以读写一些固定点位。Slave ID 为 1。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 运行 Modbus 模拟器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">./gridbeat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> simulator</span></span></code></pre></div><h3 id="modbus-从站模拟器" tabindex="-1">Modbus 从站模拟器 <a class="header-anchor" href="#modbus-从站模拟器" aria-label="Permalink to “Modbus 从站模拟器”">​</a></h3><p>该模拟器可以在多个平台运行，<a href="https://www.redisant.cn/mse" target="_blank" rel="noreferrer">官网</a></p><p>下载并安装后，运行 Modbus Slave Simulator 模拟器即可，该模拟器默认绑定的端口为 502，会被 OS 默认的防火墙拦截，确保防火墙能开放此接口或关闭防火墙。</p><p><img src="`+o+'" alt="modbus-simulator"></p><h2 id="gridbeat-中创建南向设备" tabindex="-1">GridBeat 中创建南向设备 <a class="header-anchor" href="#gridbeat-中创建南向设备" aria-label="Permalink to “GridBeat 中创建南向设备”">​</a></h2><h3 id="创建设备" tabindex="-1">创建设备 <a class="header-anchor" href="#创建设备" aria-label="Permalink to “创建设备”">​</a></h3><p><strong>南向设备管理</strong> -&gt; <strong>添加设备</strong> 在弹出的对话框中填写设备信息后创建设备，<strong>插件</strong> 选择 <code>Modbus TCP</code>，<strong>名称</strong> 填写 <code>modbus-tcp-1</code> 即可。</p><h3 id="配置设备" tabindex="-1">配置设备 <a class="header-anchor" href="#配置设备" aria-label="Permalink to “配置设备”">​</a></h3><p>创建设备后，进入设备详情页面配置设备参数。</p><p><strong>IP 地址</strong>: 填写 Modbus TCP 模拟器运行机器的 IP 地址。如果 Gridbeat 与模拟器运行在同一台机器上，可以填写 <code>127.0.0.1</code>。 <strong>端口</strong>: 默认502，根据模拟器的监听端口进行修改。</p><p>其他参数默认即可。</p><h3 id="配置数据点" tabindex="-1">配置数据点 <a class="header-anchor" href="#配置数据点" aria-label="Permalink to “配置数据点”">​</a></h3><p>在 <strong>南向设备管理</strong> 页面，点击 <strong>设备名称</strong> 进入点位组页面，添加一个点位组，名称填写 <code>group1</code> 即可。</p><p>进入点位组后，点击 <strong>组名称</strong> 进入点位配置页面，创建点位。</p><p><img src="'+i+'" alt="add-tag"></p><p><strong>名称</strong>: <code>tag-1</code><strong>地址</strong>: <code>1!40001</code> ( Slave ID 1, 保持寄存器40001 ) <strong>属性</strong>: <code>Read</code> 与 <code>Write</code><strong>数据类型</strong>: <code>INT16</code></p><h3 id="查看点位值" tabindex="-1">查看点位值 <a class="header-anchor" href="#查看点位值" aria-label="Permalink to “查看点位值”">​</a></h3><p>配置完点位后，进入 <strong>数据监控</strong> 页面，选择刚才创建的设备以及点位组，即可看到点位的值。</p><p><img src="'+n+'" alt="data-monitor"></p><h2 id="创建北向应用" tabindex="-1">创建北向应用 <a class="header-anchor" href="#创建北向应用" aria-label="Permalink to “创建北向应用”">​</a></h2><p>使用 MQTT，把刚才 modbus 设备中采集到的数据发送到 MQTT Broker。</p><p><strong>北向应用管理</strong> -&gt; <strong>添加应用</strong>，在弹出的对话框中填写应用信息创建应用。 <strong>插件</strong> 选择 <code>MQTT</code>，<strong>名称</strong> 填写 <code>mqtt</code> 即可。</p><h3 id="配置北向应用" tabindex="-1">配置北向应用 <a class="header-anchor" href="#配置北向应用" aria-label="Permalink to “配置北向应用”">​</a></h3><p>创建北向应用后，进入北向配置页面，默认服务器地址为 <code>broker.emqx.io</code>，端口为 <code>1883</code>，如果需要连接其他 MQTT Broker，请根据实际情况修改。</p><h3 id="订阅南向数据组" tabindex="-1">订阅南向数据组 <a class="header-anchor" href="#订阅南向数据组" aria-label="Permalink to “订阅南向数据组”">​</a></h3><p>在<strong>北向应用管理</strong>页面中，点击北向应用，进入<strong>订阅管理</strong>页面，点击<strong>添加订阅</strong>，在弹出的对话框中选择刚才创建的 Modbus 设备以及点位组。</p><p><img src="'+d+'" alt="subscribe"></p><p>记住订阅时的 topic，后续订阅该 topic 即可看到数据。topic 默认格式为<code>/gridbeat/{应用名称}</code></p><p>至此， Modbus TCP 采集数据并通过 MQTT 发送数据的配置完成。</p><h2 id="使用-mqttx-订阅-topic-查看数据" tabindex="-1">使用 MQTTX 订阅 topic 查看数据 <a class="header-anchor" href="#使用-mqttx-订阅-topic-查看数据" aria-label="Permalink to “使用 MQTTX 订阅 topic 查看数据”">​</a></h2><p>订阅完成后，打开 <a href="https://mqttx.app/zh" target="_blank" rel="noreferrer">MQTTX</a>，创建一个新的连接，连接到 <code>broker.emqx.io:1883</code>(根据北向应用配置的 MQTT broker 修改)。</p><p>连接成功后，订阅 topic <code>/gridbeat/mqtt</code> (根据北向订阅时的 topic 修改)，即可看到点位数据。</p><p><img src="'+c+'" alt="mqttx"></p>',40)])])}const f=e(l,[["render",p]]);export{_ as __pageData,f as default};
