import{_ as d,c as r,o as a,ah as e}from"./chunks/framework.D2dsaVOY.js";const p=JSON.parse('{"title":"Siemens MPI","description":"","frontmatter":{},"headers":[],"relativePath":"zh_CN/configuration/south-devices/siemens-mpi/mpi.md","filePath":"zh_CN/configuration/south-devices/siemens-mpi/mpi.md"}'),i={name:"zh_CN/configuration/south-devices/siemens-mpi/mpi.md"};function n(l,t,h,s,o,b){return a(),r("div",null,[...t[0]||(t[0]=[e('<h1 id="siemens-mpi" tabindex="-1">Siemens MPI <a class="header-anchor" href="#siemens-mpi" aria-label="Permalink to “Siemens MPI”">​</a></h1><p>MPI 是一种基于西门子 MPI 接口的通信协议，它允许 PLC 与其他设备（如 SCADA 系统、HMI 设备、其他 PLC 等）进行数据交换。MPI 接口一般内置于 S7300 和 S7400 PLC。</p><p>MPI 需要经过专门的线缆才能被 PC 访问到。首先需要通过 6ES7-972-0CA23-0XA0 模块（或兼容模块）将 MPI 转换到 RS232 串口协议，然后通过 USB-RS232 模块连接到 PC，如果 PC 有 RS232 接口则无需第二步转换。</p><p>GridBeat 的 MPI 插件可用于S7300 和 S7400 PLC 的数据访问。</p><h2 id="添加插件" tabindex="-1">添加插件 <a class="header-anchor" href="#添加插件" aria-label="Permalink to “添加插件”">​</a></h2><p>在 <strong>配置 -&gt; 南向设备</strong>，点击<strong>添加设备</strong>来创建设备节点，输入插件名称，插件类型选择 <strong>Siemens MPI</strong> 启用插件。</p><h2 id="设备配置" tabindex="-1">设备配置 <a class="header-anchor" href="#设备配置" aria-label="Permalink to “设备配置”">​</a></h2><p>点击插件卡片或插件列，进入<strong>设备配置</strong>页。配置 GridBeat 与设备建立连接所需的参数，下表为插件相关的配置项。</p><table tabindex="0"><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td>连接超时时间</td><td>连接超时时间，单位为毫秒</td></tr><tr><td>指令发送间隔</td><td>发送协议指令时间间隔，单位为毫秒</td></tr><tr><td>目标站号</td><td>设备的 MPI 站点号，默认为 2</td></tr><tr><td>串口设备</td><td>串口设备路径，默认为 /dev/ttyUSB0</td></tr><tr><td>停止位</td><td>串口停止位，默认且只能为 1</td></tr><tr><td>校验位</td><td>串口校验位，默认且只能为 Odd</td></tr><tr><td>波特率</td><td>串口波特率，默认为 38400</td></tr><tr><td>数据位</td><td>串口数据位，默认且只能为 8</td></tr></tbody></table><h2 id="设置组和点位" tabindex="-1">设置组和点位 <a class="header-anchor" href="#设置组和点位" aria-label="Permalink to “设置组和点位”">​</a></h2><p>完成插件的添加和配置后，要建立设备与 GridBeat 之间的通信，首先为南向驱动程序添加组和点位。</p><p>完成设备配置后，在<strong>南向设备</strong>页，点击设备卡片/设备列进入<strong>组列表</strong>页。点击<strong>创建</strong>来创建组，设定组名称以及采集间隔。完成组的创建后，点击组名称进入<strong>点位列表</strong>页，添加需要采集的设备点位，包括点位地址，点位属性，数据类型等。</p><p>公共配置项部分可参考<a href="./../south-devices.html">连接南向设备</a>，本页将介绍支持的数据类型和地址格式部分。</p><h3 id="数据类型" tabindex="-1">数据类型 <a class="header-anchor" href="#数据类型" aria-label="Permalink to “数据类型”">​</a></h3><ul><li>INT8</li><li>UINT8</li><li>INT16</li><li>UINT16</li><li>INT32</li><li>UINT32</li><li>INT64</li><li>UINT64</li><li>FLOAT</li><li>DOUBLE</li><li>BIT</li><li>STRING</li></ul><h3 id="地址格式" tabindex="-1">地址格式 <a class="header-anchor" href="#地址格式" aria-label="Permalink to “地址格式”">​</a></h3><blockquote><p>AREA ADDRESS[.BIT][.LEN]</p></blockquote><h4 id="area-address" tabindex="-1">AREA ADDRESS <a class="header-anchor" href="#area-address" aria-label="Permalink to “AREA ADDRESS”">​</a></h4><table tabindex="0"><thead><tr><th>区域</th><th>数据类型</th><th>属性</th><th>备注</th></tr></thead><tbody><tr><td>DB.DBB</td><td>int8，uint8，int16，uint16，bit，int32，uint32，int64，uint64，float，double，string</td><td>读</td><td>主存数据块，以 bytes 读写</td></tr><tr><td>M</td><td>int8，uint8，int16，uint16，bit，int32，uint32，int64，uint64，float，double，string</td><td>读/写</td><td>标志内存 M，以 bytes 读写</td></tr></tbody></table><h4 id="bit" tabindex="-1">.BIT <a class="header-anchor" href="#bit" aria-label="Permalink to “.BIT”">​</a></h4><p>选填，指某一地址的某一位, 范围 0~7。</p><h4 id="len" tabindex="-1">.LEN <a class="header-anchor" href="#len" aria-label="Permalink to “.LEN”">​</a></h4><p>当数据类型为 string 类型时，是必填项，表示字符串长度。</p><h3 id="地址示例" tabindex="-1">地址示例 <a class="header-anchor" href="#地址示例" aria-label="Permalink to “地址示例”">​</a></h3><table tabindex="0"><thead><tr><th>地址</th><th>数据类型</th><th>说明</th></tr></thead><tbody><tr><td>DB1.DBB10</td><td>int16</td><td>DB1 数据块中，起始数据地址为 10</td></tr><tr><td>DB2.DBB10</td><td>uint16</td><td>DB2 数据块中，起始数据地址为 10</td></tr><tr><td>DB1.DBB12</td><td>float</td><td>DB1 数据块中，起始数据地址为 12</td></tr><tr><td>DB1.DBB14</td><td>double</td><td>DB1 数据块中，起始数据地址为 14</td></tr><tr><td>DB1.DBB19.1</td><td>bit</td><td>DB1 数据块中，起始数据地址为 19，第 2 位</td></tr><tr><td>DB1.DBB19.7</td><td>bit</td><td>DB1 数据块中，起始数据地址为 19，第 8 位</td></tr><tr><td>DB1.DBB20.20</td><td>string</td><td>DB1 数据块中，起始数据地址为 20，字符串长度为 20</td></tr><tr><td>M98</td><td>int8</td><td>M 区，起始数据地址为 98</td></tr><tr><td>M99</td><td>uint8</td><td>M 区，起始数据地址为 99</td></tr><tr><td>M100</td><td>int16</td><td>M 区，起始数据地址为 100</td></tr><tr><td>M102</td><td>uint16</td><td>M 区，起始数据地址为 102</td></tr><tr><td>M104</td><td>float</td><td>M 区，起始数据地址为 104</td></tr><tr><td>M106</td><td>double</td><td>M 区，起始数据地址为 106</td></tr><tr><td>M111.3</td><td>bit</td><td>M 区，起始数据地址为 111，第 4 位</td></tr><tr><td>M112.20</td><td>string</td><td>M 区，起始数据地址为 20，字符串长度为 20</td></tr><tr><td>I2.1</td><td>bit</td><td>I 区，起始数据地址为 2，第 1 位</td></tr><tr><td>Q0.7</td><td>bit</td><td>Q 区，起始数据地址为 0，第 7 位</td></tr></tbody></table><h2 id="数据监控" tabindex="-1">数据监控 <a class="header-anchor" href="#数据监控" aria-label="Permalink to “数据监控”">​</a></h2><p>完成点位的配置后，您可点击 <strong>监控</strong> -&gt; <strong>数据监控</strong>查看设备信息以及反控设备，具体可参考<a href="./../../../admin/monitoring.html">数据监控</a>。</p>',27)])])}const B=d(i,[["render",n]]);export{p as __pageData,B as default};
