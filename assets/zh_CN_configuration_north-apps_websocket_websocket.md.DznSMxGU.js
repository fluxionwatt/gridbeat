import{_ as e,c as r,o,ah as a}from"./chunks/framework.D2dsaVOY.js";const b=JSON.parse('{"title":"WebSocket","description":"","frontmatter":{},"headers":[],"relativePath":"zh_CN/configuration/north-apps/websocket/websocket.md","filePath":"zh_CN/configuration/north-apps/websocket/websocket.md"}'),s={name:"zh_CN/configuration/north-apps/websocket/websocket.md"};function n(d,t,c,h,i,g){return o(),r("div",null,[...t[0]||(t[0]=[a('<h1 id="websocket" tabindex="-1">WebSocket <a class="header-anchor" href="#websocket" aria-label="Permalink to “WebSocket”">​</a></h1><p><a href="https://en.wikipedia.org/wiki/WebSocke://en.wikipedia.org/wiki/WebSocket" target="_blank" rel="noreferrer">WebSocket</a> 是一种网络协议，它可以在单个 TCP 连接上提供双向通信通道。 WebSocket 协议于 2011 年由 IETF 标准化为 <a href="https://datatracker.ietf.org/doc/html/rfc6455" target="_blank" rel="noreferrer">RFC 6455</a> 。 其规范定义了两种方案，即 <strong>ws</strong>（WebSocket）和 <strong>wss</strong>（WebSocket Secure），分别用于非安全的和安全的连接。 WebSocket 相对传统的轮询技术具有许多优点，包括较低的延迟、较少的网络流量和更好的可伸缩性。</p><p>GridBeat WebSocket 插件是一款商用的北向插件，使用户可以将采集的数据推送到 WebSocket 服务器上。</p><h2 id="添加插件" tabindex="-1">添加插件 <a class="header-anchor" href="#添加插件" aria-label="Permalink to “添加插件”">​</a></h2><p>在<strong>配置 -&gt; 北向应用</strong>，点击 <strong>添加应用</strong> 添加 WebSocket 客户端节点。</p><h2 id="应用配置" tabindex="-1">应用配置 <a class="header-anchor" href="#应用配置" aria-label="Permalink to “应用配置”">​</a></h2><p>以下是使用 WebSocket 插件配置节点时可用的参数：</p><table tabindex="0"><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td><strong>上报数据格式</strong></td><td>上报数据的 JSON 格式：<br> <em>values-format</em>：数据被分成 <code>values</code> 和 <code>errors</code> 的子对象<br> <em>tags-format</em>：数据被放在一个数组中</td></tr><tr><td><strong>服务器 URL</strong></td><td>Websocket 服务器 URL。例如，<code>ws://localhost:8000</code> ， <code>wss://example.io</code> 。</td></tr><tr><td><strong>CA 证书</strong></td><td>签发服务器证书的 CA 的证书。使用 <code>wss</code> 协议和自签发证书时，必填。</td></tr><tr><td><strong>客户端证书</strong></td><td>客户端的证书。使用 <code>wss</code> 协议且使用双向认证时，必填。</td></tr><tr><td><strong>客户端私钥</strong></td><td>客户端的私钥。使用 <code>wss</code> 协议且使用双向认证时，必填。</td></tr></tbody></table><h2 id="添加订阅" tabindex="-1">添加订阅 <a class="header-anchor" href="#添加订阅" aria-label="Permalink to “添加订阅”">​</a></h2><p>完成插件的添加和配置后，我们将继续通过订阅南向设备实现数据的转发。</p><p>完成设备配置后，在<strong>北向应用</strong>页，点击设备卡片/设备列进入<strong>组列表</strong>页。点击<strong>添加订阅</strong>，完成南向设备和组的设置。订阅完成后，WebSocket 节点将开始接收南向数据。</p><h2 id="数据上传" tabindex="-1">数据上传 <a class="header-anchor" href="#数据上传" aria-label="Permalink to “数据上传”">​</a></h2><p>GridBeat WebSocket 插件作为客户端， 将从设备采集到的数据作以 JSON 形式推送到由<strong>服务器 URL</strong> 参数指定的 WebSocket 服务器上。</p><p>上报数据的格式由<strong>上报数据格式</strong>参数控制。有两种格式，即 <em>tags-format</em> 和 <em>values-format</em> 。 这两种格式与 <a href="./../mqtt/overview.html">MQTT 插件</a>的相同，请参阅 <a href="./../mqtt/api.html#tags-format">MQTT 数据上下行格式</a>。</p><h2 id="运行与维护" tabindex="-1">运行与维护 <a class="header-anchor" href="#运行与维护" aria-label="Permalink to “运行与维护”">​</a></h2><p>在设备卡片或设备列，您可点击数据统计图表查看及应用运行情况、接受和发送的数据情况。关于统计字段的说明，见<a href="./../north-apps.html">创建北向应用</a>。</p><p>如果设备运行出现任何问题，您可点击 DEBUG 日志图表，此时系统将自动打印该节点的 DEBUG 级别日志，十分钟后将切回系统默认级别日志。稍后，您可点击页面顶部功能栏的<strong>系统信息</strong> -&gt; <strong>日志</strong>查看日志，并进行故障诊断。稍后，您可点击页面顶部功能栏的<strong>系统信息</strong> -&gt; <strong>日志</strong>查看日志，并进行故障诊断。有关系统日志的详细解析，见<a href="./../../../admin/log-management.html">管理日志</a>。</p>',17)])])}const p=e(s,[["render",n]]);export{b as __pageData,p as default};
