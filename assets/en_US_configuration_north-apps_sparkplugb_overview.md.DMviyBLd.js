import{_ as e,c as a,o,ah as n}from"./chunks/framework.DGOuNAW6.js";const g=JSON.parse('{"title":"SparkPlugB","description":"","frontmatter":{},"headers":[],"relativePath":"en_US/configuration/north-apps/sparkplugb/overview.md","filePath":"en_US/configuration/north-apps/sparkplugb/overview.md"}'),r={name:"en_US/configuration/north-apps/sparkplugb/overview.md"};function i(s,t,d,l,c,p){return o(),a("div",null,[...t[0]||(t[0]=[n('<h1 id="sparkplugb" tabindex="-1">SparkPlugB <a class="header-anchor" href="#sparkplugb" aria-label="Permalink to “SparkPlugB”">​</a></h1><p>Sparkplug B is an industrial IoT data transfer specification built on MQTT 3.1.1. Sparkplug B provides a unified way for device manufacturers and software providers to share data by making MQTT networks state-aware and interoperable while ensuring flexibility and efficiency.</p><p>Data collected by GridBeat from devices can be transferred from the edge to the Sparkplug B application via the Sparkplug B protocol, and users can send data modification commands to GridBeat from the application.</p><h2 id="add-application" tabindex="-1">Add Application <a class="header-anchor" href="#add-application" aria-label="Permalink to “Add Application”">​</a></h2><p>Navigate to <strong>Configuration -&gt; North Apps</strong> and click <strong>Add Application</strong> to add a Sparkplug B client node.</p><h2 id="configure-application" tabindex="-1">Configure Application <a class="header-anchor" href="#configure-application" aria-label="Permalink to “Configure Application”">​</a></h2><p>Sparkplug B is an application-based protocol running on top of MQTT, so the setup in GridBeat is similar to the MQTT driver.</p><p>Sparkplug B is an application-based protocol running on top of MQTT, so the setup in GridBeat is similar to the MQTT driver.</p><table tabindex="0"><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><strong>Client ID</strong></td><td>MQTT client ID, a unique identifier for the connection</td></tr><tr><td><strong>Group ID</strong></td><td>The top-level logical grouping in the Sparkplug B protocol, which can represent entities such as factories or workshops</td></tr><tr><td><strong>Node ID</strong></td><td>Unique Identification of Edge Nodes in Sparkplug B Protocol</td></tr><tr><td><strong>Enable Alias</strong></td><td>Enable Metric alias, set to true to enable, default is off</td></tr><tr><td><strong>Group Path</strong></td><td>Use the group name of the southbound device as the starting path of the Metric name. default true</td></tr><tr><td><strong>Offline Data Caching</strong></td><td>Offline caching switch. Cache MQTT messages when offline, and sync cached messages when back online.</td></tr><tr><td><strong>Cache Memory Size (MB)</strong></td><td>Max in-memory cache size in megabytes when MQTT connection exception occurs. Should be smaller than cache disk size.</td></tr><tr><td><strong>Cache Disk Size (MB)</strong></td><td>Max in-disk cache size in megabytes when MQTT connection exception occurs. Should be larger than cache memory size. If nonzero, cache memory size should also be nonzero.</td></tr><tr><td><strong>Cache Sync Interval (MS)</strong></td><td>Cache message retransmission interval, unit: milliseconds</td></tr><tr><td><strong>Broker Host</strong></td><td>MQTT Broker Host</td></tr><tr><td><strong>Broker Port</strong></td><td>MQTT Broker Port</td></tr><tr><td><strong>Username</strong></td><td>Username to use when connecting to Broker</td></tr><tr><td><strong>Password</strong></td><td>Password to use when connecting to Broker</td></tr><tr><td><strong>SSL</strong></td><td>Whether to enable mqtt ssl, default false</td></tr><tr><td><strong>CA</strong></td><td>Ca file, enabled only if the ssl value is true</td></tr><tr><td><strong>Client Cert</strong></td><td>Cert file, enabled only if the ssl value is true</td></tr><tr><td><strong>Client Key</strong></td><td>Key file, enabled only if the ssl value is true</td></tr><tr><td><strong>Keypass</strong></td><td>Key file password, only enabled if ssl value is true</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>Only the <code>Group ID</code> and <code>Node ID</code> are from the Sparkplug B specification, the rest are connection parameters of the MQTT Broker, see <a href="./../mqtt/overview.html">MQTT Overview</a>.</p></div><h2 id="add-subscription" tabindex="-1">Add Subscription <a class="header-anchor" href="#add-subscription" aria-label="Permalink to “Add Subscription”">​</a></h2><p>After plugin configuration, data forwarding can be enabled via southbound device subscriptions.</p><p>Click the device card or row on the <strong>North Apps</strong> page, then <strong>Add Subscription</strong> on the <strong>Group List</strong> page. And set the following:</p><ul><li><strong>South device</strong>: Select the southbound device you want to subscribe to, for example, &#39;modbus-tcp-1&#39;.</li><li><strong>Group</strong>: Select a group from the southbound device, for example, &#39;group-1&#39;.</li></ul><p>Add static tags in Json format and report them simultaneously with the southbound data tags:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;location&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;number&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;12345613&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="use-case" tabindex="-1">Use Case <a class="header-anchor" href="#use-case" aria-label="Permalink to “Use Case”">​</a></h2><ul><li>You can use the GridBeat Sparkplug B plugin to report data to EMQX, and decode the complete and accurate data results through the EMQX&#39;s encoding and decoding functions. For specific steps, see <a href="./sparkplug.html">Integration with EMQX</a>.</li><li>You can connect to the Ignition platform through the GridBeat SparkPlugB plugin. For specific steps, refer to <a href="./ignition.html">Ignition</a>.</li><li>You can also connect to Cogent DataHub through the GridBeat SparkPlugB plugin. For specific steps, refer to <a href="./cogent.html">Cogent</a>.</li></ul><h2 id="operation-and-maintenance" tabindex="-1">Operation and Maintenance <a class="header-anchor" href="#operation-and-maintenance" aria-label="Permalink to “Operation and Maintenance”">​</a></h2><p>On the device card or device row, you can click on the <strong>Data Statistics</strong> icon to review the application&#39;s operation status and track the data received and sent. For explanations on statistical fields, refer to the <a href="./../north-apps.html">Create a Northbound Application</a> section.</p><p>If there are any issues with device operation, you can click on the DEBUG log chart. The system will automatically print DEBUG level logs for that node and switch back to the system default log level after ten minutes. Later, you can click on <strong>System Information</strong> -&gt; <strong>Logs</strong> at the top of the page to view logs and perform troubleshooting. For a detailed interpretation of system logs, see <a href="./../../../admin/log-management.html">Managing Logs</a>.</p>',21)])])}const u=e(r,[["render",i]]);export{g as __pageData,u as default};
