import{_ as d,c as r,o as e,ah as a}from"./chunks/framework.DGOuNAW6.js";const u=JSON.parse('{"title":"KND CNC","description":"","frontmatter":{},"headers":[],"relativePath":"zh_CN/configuration/south-devices/knd/knd.md","filePath":"zh_CN/configuration/south-devices/knd/knd.md"}'),l={name:"zh_CN/configuration/south-devices/knd/knd.md"};function i(o,t,s,n,h,c){return e(),r("div",null,[...t[0]||(t[0]=[a('<h1 id="knd-cnc" tabindex="-1">KND CNC <a class="header-anchor" href="#knd-cnc" aria-label="Permalink to “KND CNC”">​</a></h1><p>凯恩帝 CNC 驱动通过 HTTP 协议访问凯恩帝 K2000、K1000 C/Ci/F/Fi、K1000TTCi 系列的数控系统，可以实时采集多种设备运行数据，包括程序名，主轴倍率，运行状态，PLC 点位等。</p><h2 id="设备设置" tabindex="-1">设备设置 <a class="header-anchor" href="#设备设置" aria-label="Permalink to “设备设置”">​</a></h2><table tabindex="0"><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td>host</td><td>设备 IP 地址</td></tr><tr><td>port</td><td>设备端口号, 默认8000</td></tr></tbody></table><h2 id="支持的数据类型" tabindex="-1">支持的数据类型 <a class="header-anchor" href="#支持的数据类型" aria-label="Permalink to “支持的数据类型”">​</a></h2><ul><li>uint8</li><li>int8</li><li>uint16</li><li>int16</li><li>uint32</li><li>int32</li><li>uint64</li><li>int64</li><li>float</li><li>double</li><li>bool</li><li>bit</li><li>string</li></ul><h2 id="cnc-数据" tabindex="-1">CNC 数据 <a class="header-anchor" href="#cnc-数据" aria-label="Permalink to “CNC 数据”">​</a></h2><blockquote><p>address[.m]</p></blockquote><table tabindex="0"><thead><tr><th>tag 标识（地址）</th><th>说明</th><th>数据类型</th><th>参数</th><th>备注</th></tr></thead><tbody><tr><td>systemInfo.id</td><td>ID</td><td>int32</td><td>-</td><td>-</td></tr><tr><td>systemInfo.type</td><td>系统类型</td><td>string</td><td>-</td><td>-</td></tr><tr><td>systemInfo.manufacturer</td><td>制造商</td><td>string</td><td>-</td><td>-</td></tr><tr><td>systemInfo.manufacture-time</td><td>生产时间</td><td>string</td><td>-</td><td>-</td></tr><tr><td>systemInfo.soft-version</td><td>系统软件版本号</td><td>string</td><td>-</td><td>-</td></tr><tr><td>systemInfo.fpga-version</td><td>FPGA版本号</td><td>string</td><td>-</td><td>-</td></tr><tr><td>systemInfo.ladder-version</td><td>梯图版本号</td><td>string</td><td>-</td><td>-</td></tr><tr><td>systemInfo.user-axes</td><td>用户轴列表</td><td>array string</td><td>-</td><td>-</td></tr><tr><td>systemStatus.run-status</td><td>当前运行状态</td><td>int32</td><td>-</td><td>0: CNC 处于停止状态 1: CNC 处于暂停（进给保持）状态 2: CNC 处于运行状态</td></tr><tr><td>systemStatus.opr-mode</td><td>当前工作模式</td><td>int32</td><td>-</td><td>0: 录入方式 1: 自动方式 2: 无效方式 3: 编辑方式 4: 单步方式 5: 手动方式 8: 手轮方式 9: 机械回零方式 10: 程序回零方式</td></tr><tr><td>systemStatus.ready</td><td>是否准备就绪</td><td>bool</td><td>-</td><td>-</td></tr><tr><td>systemStatus.not-ready-reason</td><td>准备未绪的原因掩码</td><td>int32</td><td>-</td><td>0x1: 急停信号有效 0x2: 伺服准备未绪 0x4: IO 准备未绪（远程 IO 设备等）</td></tr><tr><td>systemStatus.alarms</td><td>报警列表</td><td>array string</td><td>-</td><td>-</td></tr><tr><td>alarms</td><td>报警描述信息</td><td>string</td><td>m</td><td>prm-switch: 参数开关报警（系统参数开关或伺服参数开关） reboot：开关机报警 plc：PLC 报警或提示（外部报警）ps：PS 报警（操作错）over-travel：超程报警 over-heat：过热报警 mem：存储器报警 servo：伺服驱动报警 servo-bus：伺服总线报警 over-workarea：超出工作区报警 io-bus：IO 总线报警 io-module：IO 模块报警 manufacture：机床厂报警 forbid-move：不允许移动的轴发生移动时报警</td></tr><tr><td>absolute</td><td>绝对坐标</td><td>double</td><td>m</td><td>X Y Z</td></tr><tr><td>machine</td><td>机械坐标</td><td>double</td><td>m</td><td>X Y Z</td></tr><tr><td>relative</td><td>相对坐标</td><td>double</td><td>m</td><td>X Y Z</td></tr><tr><td>cycleTime</td><td>加工时间</td><td>int32</td><td>m</td><td>total: 加工时间（单位：秒） cur: 循环时间（单位：秒）</td></tr><tr><td>workCounts</td><td>加工计数</td><td>int32</td><td>m</td><td>total: 总加工计数 batch: 单批加工计数</td></tr><tr><td>workCountGoals</td><td>目标件数</td><td>int32</td><td>m</td><td>total: 总目标件数 batch: 单批目标件数</td></tr><tr><td>feedOverride</td><td>当前进给倍率</td><td>double</td><td>-</td><td>-</td></tr><tr><td>jogOverride</td><td>当前手动倍率</td><td>double</td><td>-</td><td>-</td></tr><tr><td>rapidOverride</td><td>当前快速倍率</td><td>double</td><td>-</td><td>-</td></tr><tr><td>handleOverride</td><td>当前手轮/单步档位</td><td>double</td><td>-</td><td>-</td></tr><tr><td>spindleOverride</td><td>当前主轴倍率</td><td>double</td><td>m</td><td>1：主轴1 2：主轴2 3：主轴3</td></tr><tr><td>spSpeed</td><td>当前主轴转速</td><td>double</td><td>m</td><td>1：主轴1 2：主轴2 3：主轴3</td></tr><tr><td>feedrate</td><td>实际进给速率</td><td>double</td><td>-</td><td>-</td></tr><tr><td>g54</td><td>G54工件坐标系</td><td>double</td><td>m</td><td>X Y Z</td></tr><tr><td>g55</td><td>G55工件坐标系</td><td>double</td><td>m</td><td>X Y Z</td></tr><tr><td>g56</td><td>G56工件坐标系</td><td>double</td><td>m</td><td>X Y Z</td></tr><tr><td>g57</td><td>G57工件坐标系</td><td>double</td><td>m</td><td>X Y Z</td></tr><tr><td>g58</td><td>G58工件坐标系</td><td>double</td><td>m</td><td>X Y Z</td></tr><tr><td>g59</td><td>G59工件坐标系</td><td>double</td><td>m</td><td>X Y Z</td></tr><tr><td>workCoorsCur</td><td>当前工件坐标系</td><td>string</td><td>-</td><td>-</td></tr><tr><td>vars</td><td>宏变量</td><td>double</td><td>m</td><td>宏变量编号</td></tr><tr><td>progCur</td><td>当前程序</td><td>int32</td><td>-</td><td>-</td></tr><tr><td>progExecStatus</td><td>程序执行状态</td><td>int32</td><td>m</td><td>O: 程序 O 号 N: 程序 N 号 P: 段落号</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>主轴数从1开始，根据实际主轴数递增。</p><p>vars 宏变量可读写，其他只读。</p></div><p><em>CNC 地址示例</em></p><table tabindex="0"><thead><tr><th>地址</th><th>说明</th></tr></thead><tbody><tr><td>systemInfo.type</td><td>读取加工主程序号</td></tr><tr><td>machine.X</td><td>读取 X 轴坐标</td></tr><tr><td>vars.100</td><td>读写100号宏变量置</td></tr><tr><td>feedOverride</td><td>读取当前进给倍率</td></tr><tr><td>alarms.plc</td><td>PLC 报警或提示（外部报警）</td></tr><tr><td>spindleOverride.1</td><td>主轴1倍率</td></tr><tr><td>spSpeed.1</td><td>主轴1转速</td></tr><tr><td>cycleTime.cur</td><td>循环时间</td></tr></tbody></table><h3 id="plc-数据" tabindex="-1">PLC 数据 <a class="header-anchor" href="#plc-数据" aria-label="Permalink to “PLC 数据”">​</a></h3><h3 id="地址格式" tabindex="-1">地址格式 <a class="header-anchor" href="#地址格式" aria-label="Permalink to “地址格式”">​</a></h3><blockquote><p>AREA ADDRESS[.BIT][.LEN]</p></blockquote><table tabindex="0"><thead><tr><th>标识</th><th>说明</th><th>类型</th><th>权限</th></tr></thead><tbody><tr><td>X</td><td>DI 输入</td><td>all</td><td>读</td></tr><tr><td>Y</td><td>DO 输出</td><td>all</td><td>读</td></tr><tr><td>F</td><td>NC -&gt; PLC</td><td>all</td><td>读</td></tr><tr><td>G</td><td>PLC -&gt; NC</td><td>all</td><td>读</td></tr><tr><td>R</td><td>PLC 内部控制继电器</td><td>all</td><td>读/写</td></tr><tr><td>S</td><td>PLC 内部特殊标志</td><td>all</td><td>读</td></tr><tr><td>K</td><td>PLC 内部掉电保护继电器</td><td>all</td><td>读</td></tr><tr><td>D</td><td>数据表</td><td>all</td><td>读</td></tr><tr><td>TL</td><td>标号序号</td><td>all</td><td>读</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>目前只支持设置部分 R 区，即 R17000-R17099，并且需要梯图显式允许，梯图必 须将 G138 赋为 181，才能远程修改上述 R 区。</p></div><blockquote><p>AREA ADDRESS[.cur/conf]</p></blockquote><table tabindex="0"><thead><tr><th>标识</th><th>说明</th><th>类型</th><th>权限</th></tr></thead><tbody><tr><td>T</td><td>定时器</td><td>int32/uint32</td><td>读</td></tr><tr><td>C</td><td>计数器</td><td>int32/uint32</td><td>读</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>读取定时器和计数器时，需要指定是设置值还是当前值。</p></div><p><em>PLC 常用点位</em></p><table tabindex="0"><thead><tr><th>地址</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>X0.0</td><td>bit</td><td>DI 区域，地址0的数据</td></tr><tr><td>Y0.0</td><td>bit</td><td>DO 区域，地址0的数据</td></tr><tr><td>D10</td><td>int32</td><td>数据表 区域，地址10的数据</td></tr><tr><td>R17000</td><td>float</td><td>内部控制继电器 区域，地址17000的数据</td></tr><tr><td>D20.24</td><td>string</td><td>数据表 区域，地址20的数据</td></tr><tr><td>T0.conf</td><td>int32</td><td>定时器 区域，地址0的设定值数据</td></tr><tr><td>T0.cur</td><td>int32</td><td>定时器 区域，地址0的当前数据</td></tr></tbody></table>',22)])])}const m=d(l,[["render",i]]);export{u as __pageData,m as default};
