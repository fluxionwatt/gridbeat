import{_ as a,c as s,o as e,ah as t,ms as l,mt as r,mu as p,mv as o,mw as d,mx as h,my as n,mz as c,mA as k,mB as u,mC as g,mD as m}from"./chunks/framework.D2dsaVOY.js";const T=JSON.parse('{"title":"快速教程","description":"","frontmatter":{},"headers":[],"relativePath":"zh_CN/quick-start/quick-start.md","filePath":"zh_CN/quick-start/quick-start.md"}'),b={name:"zh_CN/quick-start/quick-start.md"};function F(_,i,f,B,C,x){return e(),s("div",null,[...i[0]||(i[0]=[t('<h1 id="快速教程" tabindex="-1">快速教程 <a class="header-anchor" href="#快速教程" aria-label="Permalink to “快速教程”">​</a></h1><p>本章节将指导用户从下载安装开始，以 Modbus TCP 驱动协议为例，快速开始使用 GridBeat 采集模拟 Modbus 设备的数据，并将数据上传到 MQTT Broker。</p><h2 id="安装-gridbeat" tabindex="-1">安装 GridBeat <a class="header-anchor" href="#安装-gridbeat" aria-label="Permalink to “安装 GridBeat”">​</a></h2><p>GridBeat 提供多种安装方式，用户可在 <a href="./../installation/installation.html">安装</a> 中查看详细的安装方式。本实例采用容器化部署的方式，以便于最快开始体验 GridBeat。</p><p>获取 Docker 镜像</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fluxionwatt/gridbeat:latest</span></span></code></pre></div><p>启动 Docker 容器</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gridbeat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8080:8080</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --privileged=true</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --restart=always</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fluxionwatt/gridbeat:latest</span></span></code></pre></div><h2 id="安装-modbus-模拟器" tabindex="-1">安装 Modbus 模拟器 <a class="header-anchor" href="#安装-modbus-模拟器" aria-label="Permalink to “安装 Modbus 模拟器”">​</a></h2><p>安装 PeakHMI Slave Simulators 软件，安装包可在 <a href="https://hmisys.com" target="_blank" rel="noreferrer">PeakHMI 官网</a> 中下载。</p><p>安装后，运行 Modbus TCP slave EX。设置模拟器点位数值及站点号，如下图所示。</p><p><img src="'+l+'" alt="modbus-simulator"></p><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>须保证 GridBeat 与模拟器运行在同一局域网内。</p><p>Windows 中尽量关闭防火墙，否则可能会导致 GridBeat 连接不上模拟器。</p></div><h2 id="gridbeat-快速使用" tabindex="-1">GridBeat 快速使用 <a class="header-anchor" href="#gridbeat-快速使用" aria-label="Permalink to “GridBeat 快速使用”">​</a></h2><p>打开 Web 浏览器，输入运行 GridBeat 的网关地址和端口号，即可进入到管理控制台页面，默认端口号为 8080。</p><p>访问格式，<a href="http://x.x.x.x:8080" target="_blank" rel="noreferrer">http://x.x.x.x:8080</a>。x.x.x.x 代表安装 GridBeat 的网关地址。</p><h3 id="第一步-登录" tabindex="-1">第一步，登录 <a class="header-anchor" href="#第一步-登录" aria-label="Permalink to “第一步，登录”">​</a></h3><p>页面打开后，进入到登录界面，用户可使用初始用户名与密码登录（初始用户名：root，初始密码：admin），如下图所示。</p><p><img src="'+r+'" alt="login"></p><h3 id="第二步-添加南向设备" tabindex="-1">第二步，添加南向设备 <a class="header-anchor" href="#第二步-添加南向设备" aria-label="Permalink to “第二步，添加南向设备”">​</a></h3><p>创建南向设备卡片可用于 GridBeat 与设备建立连接、设备驱动协议的选择及设备数据采集点位的配置。</p><p>在 <code>配置</code> 菜单中选择 <code>南向设备管理</code>，进入到南向设备管理界面，单击 <code>添加设备</code> 按键新增设备，如下图所示。</p><p><img src="'+p+'" alt="south-add"></p><p>添加一个新的南向设备：</p><ul><li>名称：填写设备名称，例如 modbus-tcp-1；</li><li>Plugin：下拉框选择 modbus-tcp 的插件；</li><li>点击 <code>创建</code> 按键新增设备。</li></ul><h3 id="第三步-设置南向设备参数" tabindex="-1">第三步，设置南向设备参数 <a class="header-anchor" href="#第三步-设置南向设备参数" aria-label="Permalink to “第三步，设置南向设备参数”">​</a></h3><p>配置 GridBeat 与设备建立连接所需的参数。</p><p>单击南向设备卡片上的 <code>设备配置</code> 按键进入设备配置界面，如下图所示。</p><p><img src="'+o+'" alt="south-setting"></p><ul><li>Host：填写安装 PeakHMI Slave Simulators 软件的 PC 端 IP 地址。</li><li>点击 <code>提交</code>，完成设备配置，设备卡片自动进入 <strong>运行中</strong> 的工作状态；</li></ul><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>每个设备所需的配置参数有所不同，详细南向设备参数说明可参考 <a href="./../configuration/south-devices/south-devices.html">模块配置</a>。</p></div><h3 id="第四步-在设备卡片中创建组" tabindex="-1">第四步，在设备卡片中创建组 <a class="header-anchor" href="#第四步-在设备卡片中创建组" aria-label="Permalink to “第四步，在设备卡片中创建组”">​</a></h3><p>创建组可用于设备采集点位的归类。</p><p>单击设备节点卡片任意空白处，进入 Group 列表管理界面，点击 <code>创建</code> 按键，弹出 <code>创建 Group</code> 的对话框，如下图所示。</p><p><img src="'+d+'" alt="group-add"></p><p>为设备节点创建一个组：</p><ul><li>Group 名称：填写 Group 名称，例如 group-1；</li><li>点击 <code>创建</code>，完成组的创建。</li></ul><h3 id="第五步-在组中添加数据标签" tabindex="-1">第五步，在组中添加数据标签 <a class="header-anchor" href="#第五步-在组中添加数据标签" aria-label="Permalink to “第五步，在组中添加数据标签”">​</a></h3><p>添加需要采集的设备点位，包括点位地址，点位属性，数据类型等。</p><p>点击组中的 <code>Tag 列表</code> 图标，进入 Tag 列表管理界面，如下图所示。</p><p><img src="'+h+'" alt="tag-list-null"></p><p>选择 <code>创建</code> 按键，进入添加标签页面。</p><p><img src="'+n+'" alt="tags-add"></p><p>手动为组创建标签：</p><ul><li>名称：填写 Tag 名称，例如，tag1；</li><li>属性：下拉选择 Tag 属性，例如，read，write；</li><li>类型：下拉选择数据类型，例如，int16；</li><li>地址：填写驱动地址，例如，1!40001。1 代表 Modbus 模拟器中设置的点位站点号，40001 代表点位寄存器地址，详细的驱动地址使用说明请参阅 <a href="./../configuration/south-devices/south-devices.html">模块配置</a>；</li><li>点击<code>创建</code>按键，完成 Tag 的创建；</li></ul><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>更多标签操作可参考文档最后的 <strong>进阶操作</strong>。</p><p>点位创建完成后，设备卡片的工作状态处于 <strong>运行中</strong>，连接状态应处于 <strong>已连接</strong>。若此时连接状态仍然处于 <strong>未连接</strong> 的状态，请先在 GridBeat 运行环境终端执行以下指令，以确认 GridBeat 运行环境能否访问到到对应的 IP 及端口：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;user-select:none;-webkit-user-select:none;">$ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">telnet</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">运行</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Modbus</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 模拟器</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PC</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 端的</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> I</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 502</span></span></code></pre></div><p>用户请确认在设备配置时 IP 与 Port 是否正确设置，防火墙是否关闭。</p></div><h3 id="第六步-数据监控中查看采集数据" tabindex="-1">第六步，数据监控中查看采集数据 <a class="header-anchor" href="#第六步-数据监控中查看采集数据" aria-label="Permalink to “第六步，数据监控中查看采集数据”">​</a></h3><p>在<code>监控</code>菜单下选择<code>数据监控</code>，进入数据监控界面，查看已创建点位读取到的数值，如下图所示。</p><p><img src="'+c+'" alt="data-monitoring"></p><p>数据监控以组为单位显示数值：</p><ul><li>南向设备：下拉框选择想要查看的南向设备，例如，选择上面步骤已经创建好的 modbus-tcp-1;</li><li>Group 名称：下拉框选择想要查看所选南向设备下的组，例如，选择上面步骤已经创建好的 group-1；</li><li>选择完成，页面将会展示读取到组底下每一个标签的值；</li></ul><h3 id="第七步-为应用程序添加北向插件模块" tabindex="-1">第七步，为应用程序添加北向插件模块 <a class="header-anchor" href="#第七步-为应用程序添加北向插件模块" aria-label="Permalink to “第七步，为应用程序添加北向插件模块”">​</a></h3><p>创建北向应用卡片用于 GridBeat 与北向应用建立连接并将采集到的设备数据上传到 MQTT Broker。</p><p>在<code>配置</code>菜单中选择<code>北向应用管理</code>，单击 <code>添加应用</code> 按键添加应用，如下图所示。</p><p><img src="'+k+'" alt="north-add"></p><p>添加一个 MQTT 云连接模块：</p><ul><li>名称：填写应用名称，例如，mqtt；</li><li>Plugin：下拉框选择 mqtt 的插件；</li><li>点击 <code>创建</code> 按键新增应用。</li></ul><h3 id="第八步-设置北向应用参数" tabindex="-1">第八步，设置北向应用参数 <a class="header-anchor" href="#第八步-设置北向应用参数" aria-label="Permalink to “第八步，设置北向应用参数”">​</a></h3><p>配置 GridBeat 与北向应用建立连接所需的参数。</p><p>点击应用卡片上的 <code>应用配置</code> 按键进入应用配置界面，如下图所示。</p><p><img src="'+u+'" alt="mqtt-config"></p><p>设置 MQTT 连接：</p><ul><li>使用默认的上报主题（/gridbeat/mqtt/upload）；</li><li>使用默认的公共的 EMQX Broker（broker.emqx.io）；</li><li>点击<code>提交</code>，完成北向应用的配置，应用卡片自动进入 <strong>运行中</strong> 的工作状态。</li></ul><h3 id="第九步-订阅南向标签组" tabindex="-1">第九步，订阅南向标签组 <a class="header-anchor" href="#第九步-订阅南向标签组" aria-label="Permalink to “第九步，订阅南向标签组”">​</a></h3><p>采集到的数据都是以组为单位上传云端的，用户需要选择上传哪些组的数据。</p><p>点击应用节点卡片任意空白处，进入订阅 Group 界面，点击右上角的 <code>添加订阅</code> 按键添加订阅，如下图所示。</p><p><img src="'+g+'" alt="subscriptions-add"></p><p>订阅南向设备的数据组：</p><ul><li>南向设备：下拉框选择已创建的南向设备，例如，modbus-tcp-1；</li><li>Group：点击下拉框选择所要订阅的 Group，例如，group-1；</li><li>点击<code>提交</code>，完成订阅。</li></ul><h3 id="第十步-在-mqtt-客户端查看数据" tabindex="-1">第十步，在 MQTT 客户端查看数据 <a class="header-anchor" href="#第十步-在-mqtt-客户端查看数据" aria-label="Permalink to “第十步，在 MQTT 客户端查看数据”">​</a></h3><p>订阅完成后，用户可以使用 MQTT 客户端（推荐使用 MQTTX，可在<a href="https://www.emqx.com/zh/products/mqttx" target="_blank" rel="noreferrer">官网</a>中下载）连接到公共的 EMQX 代理来查看上报的数据，如下图所示。</p><p><img src="'+m+'" alt="mqttx"></p><p>订阅成功之后可以看到 MQTTX 可以一直接收到 GridBeat 采集并上报过来的数据。</p><ul><li>打开 MQTTX 添加新的连接，正确填写名称与公共 EMQX Broker 的 Host 与 Port，完成连接;</li><li>添加新的订阅，Topic 要与设置北向应用参数中的 Upload topic 保持一致，例如，填写 <code>/gridbeat/mqtt/upload</code>。</li></ul><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>默认的上传 Topic 的主题格式为 <code>/gridbeat/{node_name}/upload</code>，其中 {node_name} 为创建的北向应用的名称。用户也可自定义上报主题。</p></div>',75)])])}const P=a(b,[["render",F]]);export{T as __pageData,P as default};
