import{_ as r,c as a,o,ah as e,iF as n,iG as s}from"./chunks/framework.D2dsaVOY.js";const _=JSON.parse('{"title":"创建北向应用","description":"","frontmatter":{},"headers":[],"relativePath":"zh_CN/configuration/north-apps/north-apps.md","filePath":"zh_CN/configuration/north-apps/north-apps.md"}'),i={name:"zh_CN/configuration/north-apps/north-apps.md"};function l(g,t,p,h,d,c){return o(),a("div",null,[...t[0]||(t[0]=[e('<h1 id="创建北向应用" tabindex="-1">创建北向应用 <a class="header-anchor" href="#创建北向应用" aria-label="Permalink to “创建北向应用”">​</a></h1><p>南向插件用于连接南向设备实现数据采集，北向插件用于连接到IOT平台或边缘流处理引擎。北向插件和南向插件组合使用实现数据采集和数据传递。</p><p>GridBeat 目前支持以下北向节点：</p><ul><li><strong><a href="./mqtt/overview.html">MQTT</a></strong>：MQTT 插件允许用户快速构建使用 MQTT 协议的物联网应用程序，可以在设备和云之间进行通讯。</li><li><a href="./ekuiper/overview.html"><strong>eKuiper</strong></a>：LF Edge <a href="https://ekuiper.org/" target="_blank" rel="noreferrer">eKuiper</a> 是轻量级物联网数据分析和流处理引擎，eKuiper 插件使用户能够将收集到的数据转发到 eKuiper 以进一步处理。</li><li><strong><a href="./sparkplugb/overview.html">SparkPlugB</a></strong>：Sparkplug B 是一种建立在 MQTT 3.1.1 基础上的工业物联网数据传输规范。Sparkplug B 插件从设备采集到的数据可以通过 Sparkplug B 协议从边缘端传输到 Sparkplug B 应用中，用户也可以从 Sparkplug B 应用程序向 GridBeat 发送指令修改设备数据。</li><li><strong><a href="./websocket/websocket.html">WebSocket</a></strong>：WebSocket 网络协议支持在单个 TCP 连接上提供双向通信通道。借助 WebSocket 插件，用户可以将采集的数据推送到 WebSocket 服务器。</li><li><strong><a href="./monitor/overview.html">Monitor</a></strong>：GridBeat 在启动时创建一个 Monitor 单例节点，用于监控GridBeat的运行状态。您可以在仪表板的<strong>北向应用</strong>页签中看到 Monitor 节点。</li></ul><p>本节将以 MQTT 插件为例，演示完整的北向应用添加流程以及如何订阅南向数据组。</p><h2 id="添加北向应用" tabindex="-1">添加北向应用 <a class="header-anchor" href="#添加北向应用" aria-label="Permalink to “添加北向应用”">​</a></h2><p>创建北向 MQTT 节点，连接并将点位数值上传到 MQTT Broker。</p><p>在<strong>配置 -&gt; 北向应用</strong>，点击 <strong>添加应用</strong> 添加 MQTT 客户端节点：</p><ul><li>名称：此应用节点名称，例如，mqtt；</li><li>插件：选择 MQTT 插件。</li></ul><p>点击<strong>创建</strong>后，将跳转至<strong>应用配置</strong>页面，我们将在这里配置 GridBeat 与北向应用建立连接所需的参数。您也可点击设备卡片上的设备配置图标进入<strong>应用配置</strong>界面。</p><h2 id="设置北向应用参数" tabindex="-1">设置北向应用参数 <a class="header-anchor" href="#设置北向应用参数" aria-label="Permalink to “设置北向应用参数”">​</a></h2><p>点击应用卡片上的 <strong>应用配置</strong> 按键进入应用配置界面设置 MQTT 连接，有关 MQTT 插件的配置项，可以查看 <a href="./mqtt/overview.html">MQTT 页面</a>。</p><p>点击<strong>提交</strong>，完成北向应用的配置，应用卡片自动进入 <strong>运行中</strong> 的工作状态。</p><h2 id="设备卡片" tabindex="-1">设备卡片 <a class="header-anchor" href="#设备卡片" aria-label="Permalink to “设备卡片”">​</a></h2><p>在<strong>北向应用</strong>页，在右上角可以选择列表或卡片展示北向应用，这里将以设备卡片为例介绍其中各选项的含义。</p><ul><li><strong>名称</strong>：用户为北向应用提供的唯一名称。</li><li><strong>应用配置</strong>：点击该按钮进入配置界面，用于设置 GridBeat 连接北向应用所需的参数。</li><li><strong>编辑</strong>：在希望更改名称的目标节点，点击<strong>编辑</strong>图标，在弹出的<strong>编辑设备</strong>对话框，修改节点名称。</li><li><strong>数据统计</strong>：统计节点卡片信息。</li><li><strong>DEBUG 日志</strong>：打印当前节点的 DEBUG 级别日志，十分钟后，GridBeat 将恢复打印默认级别日志。</li><li><strong>删除</strong>：从设备列表中删除该节点。</li><li><strong>工作状态</strong>：显示设备节点的当前状态，目前节点分为五种工作状态。 <ul><li><strong>初始化</strong>：首次添加北向应用后，将进入初始化状态。</li><li><strong>配置中</strong>：进入设备配置，并进入配置状态。</li><li><strong>就绪</strong>：配置成功后，进入就绪状态。</li><li><strong>运行中</strong>：运行设备卡片。</li><li><strong>停止</strong>：停止设备卡片。</li></ul></li><li><strong>工作状态切换按钮</strong>：是否打开与设备的连接。 <ul><li>打开：GridBeat与设备/应用建立连接，开始收集数据。</li><li>关闭：断开设备连接，停止收集数据。</li></ul></li><li><strong>连接状态</strong>：显示设备的连接状态。</li><li><strong>插件</strong>：用于显示该设备使用的插件模块的名称。</li></ul><h2 id="订阅南向数据" tabindex="-1">订阅南向数据 <a class="header-anchor" href="#订阅南向数据" aria-label="Permalink to “订阅南向数据”">​</a></h2><p>采集点位是以组为单位进行数据上传的，订阅选择要上传的点位组。</p><p>点击 MQTT 节点卡片，进入<strong>组列表</strong>页，点击 <strong>添加订阅</strong> 选择要订阅的点位组，订阅南向设备的点位组。</p><p><img src="'+n+'" alt="subscriptions-add"></p><ul><li>南向设备：选择要订阅的南向设备，例如，modbus-tcp-1；</li><li>组：选择南向设备下的某个组，例如，group-1。</li></ul><h2 id="运行与维护" tabindex="-1">运行与维护 <a class="header-anchor" href="#运行与维护" aria-label="Permalink to “运行与维护”">​</a></h2><h3 id="数据统计" tabindex="-1">数据统计 <a class="header-anchor" href="#数据统计" aria-label="Permalink to “数据统计”">​</a></h3><p>在设备卡片或设备列，您可点击数据统计图表查看及应用运行情况、接受和发送的数据情况</p><p><img src="'+s+'" alt="north_statistics"></p><p>其中关键字段说明如下：</p><table tabindex="0"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>send_msgs_total</td><td>发送消息总条数</td></tr><tr><td>send_msg_errors_total</td><td>消息发送失败的总条数</td></tr><tr><td>recv_msgs_total</td><td>接收消息的总条数</td></tr><tr><td>link_state</td><td>节点连接状态<br>DISCONNECTED = 0<br> CONNECTED = 1</td></tr><tr><td>running_state</td><td>节点状态 <br>INIT = 1<br>READY = 2<br>RUNNING = 3<br>STOPPED = 4</td></tr></tbody></table><h3 id="故障诊断" tabindex="-1">故障诊断 <a class="header-anchor" href="#故障诊断" aria-label="Permalink to “故障诊断”">​</a></h3><p>如果设备运行出现任何问题，您可点击 DEBUG 日志图表，此时系统将自动打印该节点的 DEBUG 级别日志，十分钟后将切回系统默认级别日志。稍后，您可点击页面顶部功能栏的<strong>系统信息</strong> -&gt; <strong>日志</strong>查看日志，并进行故障诊断。有关系统日志的详细解析，见<a href="./../../admin/log-management.html">管理日志</a>。</p>',29)])])}const T=r(i,[["render",l]]);export{_ as __pageData,T as default};
