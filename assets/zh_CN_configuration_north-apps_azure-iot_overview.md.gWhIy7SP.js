import{_ as e,c as r,o as a,ah as o}from"./chunks/framework.D2dsaVOY.js";const u=JSON.parse('{"title":"Azure IoT","description":"","frontmatter":{},"headers":[],"relativePath":"zh_CN/configuration/north-apps/azure-iot/overview.md","filePath":"zh_CN/configuration/north-apps/azure-iot/overview.md"}'),s={name:"zh_CN/configuration/north-apps/azure-iot/overview.md"};function d(n,t,i,g,c,h){return a(),r("div",null,[...t[0]||(t[0]=[o('<h1 id="azure-iot" tabindex="-1">Azure IoT <a class="header-anchor" href="#azure-iot" aria-label="Permalink to “Azure IoT”">​</a></h1><p><a href="https://learn.microsoft.com/en-us/azure/iot/" target="_blank" rel="noreferrer">Azure IoT Hub</a> 实现了可靠、安全的双向通信，将物联网设备与基于云的服务连接起来。作为通信的中心消息枢纽，它允许开发人员从物联网设备接收消息，并向其发送消息。</p><p><a href="https://mqtt.org" target="_blank" rel="noreferrer">MQTT</a> 是一种轻量级的消息传输协议，专为物联网设备和应用程序设计。它采用发布与订阅模型，允许设备和应用程序通过中间代理（Broker）进行通信。MQTT拥有轻量级、高效率和可靠性等诸多优点，特别适用于边缘硬件资源有限，需要高效地传输实时数据，以及对通信延迟和带宽占用有要求的场景。 MQTT协议在工业互联网中得到广泛选择和应用，它为工业互联网带来了实时数据交换、设备互通性、资源节约和稳定可靠等诸多价值，成为工业互联网通信的重要基石。</p><p>GridBeat 支持 MQTT 插件作为其数据汇聚上报的方式之一。 GridBeat Azure IoT 插件基于 <a href="./../mqtt/overview.html">MQTT 插件</a>，提供对 Azure IoT Hub 的便捷接入。</p><h2 id="添加插件" tabindex="-1">添加插件 <a class="header-anchor" href="#添加插件" aria-label="Permalink to “添加插件”">​</a></h2><p>在<strong>北向应用</strong>标签页，点击 <strong>添加应用</strong> 添加节点。</p><h2 id="应用配置" tabindex="-1">应用配置 <a class="header-anchor" href="#应用配置" aria-label="Permalink to “应用配置”">​</a></h2><p>以下是使用 Azure IoT 插件配置节点时可用的参数：</p><table tabindex="0"><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td><strong>设备 ID</strong></td><td>Azure IoT Hub 的设备 ID，必填。</td></tr><tr><td><strong>QoS 等级</strong></td><td>MQTT 通信的服务质量等级，可选，默认为 QoS 0 。</td></tr><tr><td><strong>上报数据格式</strong></td><td>上报数据的 JSON 格式：<br>· <em>values-format</em>：数据被分成 <code>values</code> 和 <code>errors</code> 的子对象。<br>· <em>tags-format</em>：数据被放在一个数组中。关于通信数据格式，见 <a href="./../mqtt/api.html#数据上报">数据上下行格式</a></td></tr><tr><td><strong>IoT 中心域名</strong></td><td>Azure IoT 中心域名。</td></tr><tr><td><strong>身份验证</strong></td><td>设备身份验证方式，使用 Shared Access Signature 或者 X.509 证书。</td></tr><tr><td><strong>SAS 令牌</strong></td><td>使用 Shared Access Signature 身份验证方式时，需要提供 SAS 令牌。</td></tr><tr><td><strong>CA 证书</strong></td><td>使用 X.509 证书身份验证方式时，需要提供 CA 证书。</td></tr><tr><td><strong>设备证书</strong></td><td>使用 X.509 证书身份验证方式时，需要提供设备证书。</td></tr><tr><td><strong>设备私钥</strong></td><td>使用 X.509 证书身份验证方式时，需要提供设备私钥。</td></tr></tbody></table><h2 id="添加订阅" tabindex="-1">添加订阅 <a class="header-anchor" href="#添加订阅" aria-label="Permalink to “添加订阅”">​</a></h2><p>完成插件的添加和配置后，我们将继续通过订阅南向设备实现数据的转发。</p><p>完成设备配置后，在<strong>北向应用</strong>页，点击设备卡片/设备列进入<strong>组列表</strong>页。点击<strong>添加订阅</strong>，并进行如下设置：</p><ul><li><p><strong>南向设备</strong>：选择要订阅的南向设备，例如，modbus-tcp-1；</p></li><li><p><strong>组</strong>：选择南向设备下的某个组，例如，group-1。</p></li></ul><p>在 Azure IoT 插件成功连接后，它将通过 MQTT 主题 <code>devices/{device-id}/messages/events/</code> 向 Azure IoT Hub 发送数据，其中 <code>{device-id}</code> 是设备的<strong>设备 ID</strong>。</p><p>上报数据的确切格式由<strong>上报数据格式</strong>参数控制，行为与 MQTT 插件一样。更多详细信息，请参阅 <a href="./../mqtt/api.html#data-upload">数据上下行格式</a>。</p><h2 id="write-tags-using-cloud-to-device-messages" tabindex="-1">Write tags using cloud-to-device messages <a class="header-anchor" href="#write-tags-using-cloud-to-device-messages" aria-label="Permalink to “Write tags using cloud-to-device messages”">​</a></h2><p>Azure IoT 插件通过 MQTT 主题 <code>devices/{device-id}/messages/events/</code> 接收来自 Azure IoT Hub 的写入请求，其中 <code>{device-id}</code> 是设备的<strong>设备 ID</strong>。 写入请求的数据格式与 MQTT 插件一致，见<a href="./../mqtt/api.html#写-tag">数据上下行格式</a>。</p><h2 id="教程" tabindex="-1">教程 <a class="header-anchor" href="#教程" aria-label="Permalink to “教程”">​</a></h2><p><a href="./example.html">使用 GridBeat 将数据桥接到 Azure IoT Hub</a> 教程演示了如何使用 Azure IoT 插件连接 Azure IoT Hub 。</p>',19)])])}const p=e(s,[["render",d]]);export{u as __pageData,p as default};
