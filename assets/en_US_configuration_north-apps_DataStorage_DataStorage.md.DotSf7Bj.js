import{_ as a,c as e,o as r,ah as o}from"./chunks/framework.D2dsaVOY.js";const p=JSON.parse('{"title":"DataStorage","description":"","frontmatter":{},"headers":[],"relativePath":"en_US/configuration/north-apps/DataStorage/DataStorage.md","filePath":"en_US/configuration/north-apps/DataStorage/DataStorage.md"}'),d={name:"en_US/configuration/north-apps/DataStorage/DataStorage.md"};function n(s,t,i,h,c,l){return r(),e("div",null,[...t[0]||(t[0]=[o('<h1 id="datastorage" tabindex="-1">DataStorage <a class="header-anchor" href="#datastorage" aria-label="Permalink to “DataStorage”">​</a></h1><p>DataStorage northbound plugin writes data to <a href="https://docs.datalayers.cn/datalayers/latest/" target="_blank" rel="noreferrer">Datalayers</a> using <a href="https://arrow.apache.org/docs/format/FlightSql.html#arrow-flight-sql" target="_blank" rel="noreferrer">Arrow Flight SQL</a>. It extends GridBeatEX&#39;s capability to store time-series data.</p><p>Upon startup, GridBeatEX creates a singleton <em>DataStorage</em> node automatically. Users cannot manually create or delete this node.</p><p>You can view the <em>DataStorage</em> node in the <strong>North Apps</strong> tab throw the dashboard.</p><h2 id="application-configuration" tabindex="-1">Application Configuration <a class="header-anchor" href="#application-configuration" aria-label="Permalink to “Application Configuration”">​</a></h2><p>The following parameters are available when configuring the DataStorage node:</p><table tabindex="0"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><strong>Host</strong></td><td>IP address of the Datalayers server</td></tr><tr><td><strong>Port</strong></td><td>gRPC service port of the Datalayers server</td></tr><tr><td><strong>Username</strong></td><td>Datalayers username</td></tr><tr><td><strong>Password</strong></td><td>Datalayers password</td></tr></tbody></table><h2 id="add-subscription" tabindex="-1">Add Subscription <a class="header-anchor" href="#add-subscription" aria-label="Permalink to “Add Subscription”">​</a></h2><p>After plugin configuration, data storage can be enabled via southbound device subscriptions.</p><p>Click DataStorage node on the <strong>North Apps</strong> page, then <strong>Add Subscription</strong> on the <strong>Group List</strong> page. And set the following:</p><ul><li><strong>South device</strong>: Select the southbound device you want to subscribe to.</li><li><strong>Group</strong>: Select a group from the southbound device.</li></ul><h2 id="data-storage" tabindex="-1">Data Storage <a class="header-anchor" href="#data-storage" aria-label="Permalink to “Data Storage”">​</a></h2><p>DataStorage uses Arrow&#39;s columnar format for data storage, which eliminates serialization and deserialization during transport. This significantly reduces latency and performance overhead, improving system throughput.</p><h2 id="operation-maintenance" tabindex="-1">Operation &amp; Maintenance <a class="header-anchor" href="#operation-maintenance" aria-label="Permalink to “Operation &amp; Maintenance”">​</a></h2><p>You can click on the <strong>Data Statistics</strong> icon to review the application&#39;s operation status and track the data received and sent.</p><p>Cached Queue Size indicates the value used by the current DataStorage plugin when storing data.</p><p>Max Cached Queue Size indicates the historical maximum value used by the DataStorage plugin when storing data.</p><p>Discarded Messages indicates the number of data lost when the DataStorage plugin stores data due to excessive data throughput exceeding the maximum value of the cache queue of 1000.</p><h2 id="performance-metrics" tabindex="-1">Performance Metrics <a class="header-anchor" href="#performance-metrics" aria-label="Permalink to “Performance Metrics”">​</a></h2><p>It is recommended that GridBeatEX storage does not exceed 10,000 data tags.</p><h3 id="datastorage-plugin-performance-metrics" tabindex="-1">DataStorage Plugin Performance Metrics <a class="header-anchor" href="#datastorage-plugin-performance-metrics" aria-label="Permalink to “DataStorage Plugin Performance Metrics”">​</a></h3><table tabindex="0"><thead><tr><th>Scenario</th><th>Number of Data Tags</th><th>Group Interval (ms)</th><th>Max CPU Usage (%)</th><th>Memory Usage (MB)</th><th>Max Cache Queue Length</th></tr></thead><tbody><tr><td>1</td><td>3,000</td><td>1000</td><td>10.4</td><td>79</td><td>1</td></tr><tr><td>2</td><td>10,000</td><td>1000</td><td>35</td><td>197</td><td>1</td></tr><tr><td>3</td><td>10,000</td><td>100</td><td>145</td><td>228</td><td>1</td></tr></tbody></table><h3 id="datalayers-database-performance-metrics" tabindex="-1">Datalayers Database Performance Metrics <a class="header-anchor" href="#datalayers-database-performance-metrics" aria-label="Permalink to “Datalayers Database Performance Metrics”">​</a></h3><table tabindex="0"><thead><tr><th>Scenario</th><th>Number of Data Tags</th><th>Group Interval (ms)</th><th>Max CPU Usage (%)</th><th>Memory Usage (MB)</th><th>Disk Write (MB/s)</th><th>Query Response Time (ms)</th></tr></thead><tbody><tr><td>1</td><td>3,000</td><td>1000</td><td>2.6</td><td>157</td><td>0.093</td><td>10</td></tr><tr><td>2</td><td>10,000</td><td>1000</td><td>4.5</td><td>217</td><td>0.314</td><td>15</td></tr><tr><td>3</td><td>10,000</td><td>100</td><td>145</td><td>296</td><td>1.59</td><td>22</td></tr></tbody></table>',24)])])}const u=a(d,[["render",n]]);export{p as __pageData,u as default};
