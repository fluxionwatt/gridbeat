import{_ as d,c as r,o as a,ah as e}from"./chunks/framework.D2dsaVOY.js";const b=JSON.parse('{"title":"Siemens S7 ISO TCP","description":"","frontmatter":{},"headers":[],"relativePath":"zh_CN/configuration/south-devices/siemens-s7/s7.md","filePath":"zh_CN/configuration/south-devices/siemens-s7/s7.md"}'),i={name:"zh_CN/configuration/south-devices/siemens-s7/s7.md"};function n(s,t,o,l,h,S){return a(),r("div",null,[...t[0]||(t[0]=[e('<h1 id="siemens-s7-iso-tcp" tabindex="-1">Siemens S7 ISO TCP <a class="header-anchor" href="#siemens-s7-iso-tcp" aria-label="Permalink to “Siemens S7 ISO TCP”">​</a></h1><p>西门子 S7 ISO TCP 是西门子公司推出的一种协议，主要用于与西门子 S7 系列 PLC 进行通信。此协议基于 TCP/IP 协议栈，使用 ISO-TSAP 协议来处理连接和数据传输，可以实现对 PLC 进行读写操作，包括读取和写入位、字、双字、定时器、计数器等数据类型。</p><p>GridBeat 实现的 S7 ISOTCP 分为两个插件，其中 Siemens S7 ISOTCP 插件主要用于连接西门子 S200、S200smart、S1200、S1500 型号的 PLC，Siemens S7 ISOTCP for 300/400 插件主要用于连接西门子 S300、S400 型号并且扩展了以太网模块的 PLC。</p><h2 id="添加插件" tabindex="-1">添加插件 <a class="header-anchor" href="#添加插件" aria-label="Permalink to “添加插件”">​</a></h2><p>在 <strong>配置 -&gt; 南向设备</strong>，点击<strong>添加设备</strong>来创建设备节点，输入插件名称，插件类型选择 <strong>Siemens S7 ISOTCP</strong> 或 <strong>Siemens S7 ISOTCP for 300/400</strong> 启用插件。</p><table tabindex="0"><thead><tr><th>插件</th><th>说明</th></tr></thead><tbody><tr><td>Siemens S7 ISOTCP</td><td>适用于西门子 S200、S200smart、S1200、S1500 PLC</td></tr><tr><td>Siemens S7 ISOTCP for 300/400</td><td>适用于西门子 S300、S400 PLC</td></tr></tbody></table><h2 id="设备配置" tabindex="-1">设备配置 <a class="header-anchor" href="#设备配置" aria-label="Permalink to “设备配置”">​</a></h2><p>点击插件卡片或插件列，进入<strong>设备配置</strong>页。配置 GridBeat 与设备建立连接所需的参数，下表为插件相关配置项。</p><table tabindex="0"><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td><strong>PLC IP 地址</strong></td><td>目标 PLC 的 IPv4 地址</td></tr><tr><td><strong>PLC 端口</strong></td><td>目标 PLC 的端口，默认为 102</td></tr><tr><td><strong>PDU 大小</strong></td><td>PDU 大小，默认 960</td></tr><tr><td><strong>PLC 型号</strong></td><td>选择 PLC 型号，可选 S7-200 或 S7-300/400/1200/1500</td></tr><tr><td><strong>连接类型</strong></td><td>连接到 PLC 的类型，可选值：PG、OP、PC</td></tr><tr><td><strong>CPU 机架号 (rack)</strong></td><td>PLC 机架号，默认为 0</td></tr><tr><td><strong>CPU 槽号 (slot)</strong></td><td>PLC 插槽号，默认为 1</td></tr><tr><td><strong>T1</strong></td><td>写请求并发数</td></tr><tr><td><strong>T2</strong></td><td>请求发送后等待时间</td></tr><tr><td><strong>T3</strong></td><td>读请求并发数</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>当使用 Siemens S7 ISOTCP 插件连接S7 1200/1500 PLC 时，应进行如下设置：</p><ul><li><code>优化块访问</code>必须被关闭。</li><li><code>访问级别</code>必须是<strong>完全</strong>，<strong>连接机制</strong>必须允许 GET/PUT。</li></ul><p>具体操作步骤参考 <a href="./plc/siemens-s7-1200-1500.html">Siemens S7-1200/1500 PLC 设置</a>。</p></div><h2 id="设置组和点位" tabindex="-1">设置组和点位 <a class="header-anchor" href="#设置组和点位" aria-label="Permalink to “设置组和点位”">​</a></h2><p>完成插件的添加和配置后，要建立设备与 GridBeat 之间的通信，首先为南向驱动程序添加组和点位。</p><p>完成设备配置后，在<strong>南向设备</strong>页，点击设备卡片/设备列进入<strong>组列表</strong>页。点击<strong>创建</strong>来创建组，设定组名称以及采集间隔。完成组的创建后，点击组名称进入<strong>点位列表</strong>页，添加需要采集的设备点位，包括点位地址，点位属性，数据类型等。</p><p>公共配置项部分可参考<a href="./../south-devices.html">连接南向设备</a>，本页将介绍支持的数据类型和地址格式部分。</p><h3 id="数据类型" tabindex="-1">数据类型 <a class="header-anchor" href="#数据类型" aria-label="Permalink to “数据类型”">​</a></h3><ul><li>INT8</li><li>UINT8</li><li>INT16</li><li>UINT16</li><li>INT32</li><li>UINT32</li><li>FLOAT</li><li>DOUBLE</li><li>BIT</li><li>STRING</li><li>ARRAY_CHAR</li></ul><h3 id="地址格式" tabindex="-1">地址格式 <a class="header-anchor" href="#地址格式" aria-label="Permalink to “地址格式”">​</a></h3><blockquote><p>AREA ADDRESS[.BIT][.LEN][STR_TYPE]</p></blockquote><h4 id="area-address" tabindex="-1">AREA ADDRESS <a class="header-anchor" href="#area-address" aria-label="Permalink to “AREA ADDRESS”">​</a></h4><table tabindex="0"><thead><tr><th>区域</th><th>数据类型</th><th>属性</th><th>备注</th><th>PLC 区域</th></tr></thead><tbody><tr><td>I</td><td>int8/uint8/int16/uint16/bit/int32/uint32/float</td><td>读</td><td>输入</td><td>输入 I、E</td></tr><tr><td>O/Q</td><td>int8/uint8/int16/uint16/bit/int32/uint32/float</td><td>读/写</td><td>输出</td><td>输出 Q、A</td></tr><tr><td>F/M</td><td>int8/uint8/int16/uint16/bit/int32/uint32/float</td><td>读/写</td><td>标志</td><td>标志内存 M</td></tr><tr><td>T</td><td>int32/uint32/float</td><td>读/写</td><td>计时器</td><td>计时器 T</td></tr><tr><td>C</td><td>int16/uint16</td><td>读/写</td><td>计数器</td><td>计数器 C</td></tr><tr><td>DB</td><td>int8/uint8/int16/uint16/bit/int32/uint32/float/double/string</td><td>读/写</td><td>全局数据块</td><td>变量内存 V，全局数据块1</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>对于全局数据块 DB，在 PLC 侧诸如 DBX，DBW，DBB 之类的地址，直接转化为 DBW 即可，不需要做字节换算，如 DBX1.0 -&gt; DBW1.0。</p></div><h4 id="bit" tabindex="-1">.BIT <a class="header-anchor" href="#bit" aria-label="Permalink to “.BIT”">​</a></h4><p>选填，指某一地址的某一位，范围 0 - 7。</p><h4 id="len" tabindex="-1">.LEN <a class="header-anchor" href="#len" aria-label="Permalink to “.LEN”">​</a></h4><p>当数据类型为 string 类型时，是必填项，表示字符串长度。</p><h4 id="str-type" tabindex="-1">STR_TYPE <a class="header-anchor" href="#str-type" aria-label="Permalink to “STR_TYPE”">​</a></h4><p>选填，表示字符串类型, 默认为单字节字符，选项值为 &#39;D&#39;，表示双字节字符。</p><h3 id="地址示例" tabindex="-1">地址示例 <a class="header-anchor" href="#地址示例" aria-label="Permalink to “地址示例”">​</a></h3><table tabindex="0"><thead><tr><th>地址</th><th>数据类型</th><th>说明</th></tr></thead><tbody><tr><td>I0</td><td>int16</td><td>I 区域，地址为 0</td></tr><tr><td>I1</td><td>uint16</td><td>I 区域，地址为 1</td></tr><tr><td>O2</td><td>int16</td><td>O 区域，地址为 2</td></tr><tr><td>Q2</td><td>int16</td><td>Q 区域，地址为 2</td></tr><tr><td>O3</td><td>uint16</td><td>O 区域，地址为 3</td></tr><tr><td>F4</td><td>int16</td><td>F 区域，地址为 4</td></tr><tr><td>F5</td><td>int16</td><td>F 区域，地址为 5</td></tr><tr><td>M6</td><td>int16</td><td>M 区域，地址为 6</td></tr><tr><td>T6</td><td>int32</td><td>T 区域，地址为 6</td></tr><tr><td>T7</td><td>int32</td><td>T 区域，地址为 7</td></tr><tr><td>C8</td><td>uint16</td><td>C 区域，地址为 8</td></tr><tr><td>C9</td><td>uint16</td><td>C 区域，地址为 9</td></tr><tr><td>DB10.DBW10</td><td>int16</td><td>10 数据块中，起始数据字为 10</td></tr><tr><td>DB12.DBW10</td><td>uint16</td><td>12 数据块中，起始数据字为 10</td></tr><tr><td>DB10.DBW10</td><td>float</td><td>10 数据块中，起始数据字为 10</td></tr><tr><td>DB11.DBW10</td><td>double</td><td>11 数据块中，起始数据字为 10</td></tr><tr><td>I0.0</td><td>bit</td><td>I 区域，地址为0，第 0 位</td></tr><tr><td>I0.1</td><td>bit</td><td>I 区域，地址为0，第 1 位</td></tr><tr><td>O1.0</td><td>bit</td><td>O 区域，地址为1，第 0 位</td></tr><tr><td>O1.2</td><td>bit</td><td>O 区域，地址为1，第 2 位</td></tr><tr><td>F2.1</td><td>bit</td><td>F 区域，地址为2，第 1 位</td></tr><tr><td>F2.2</td><td>bit</td><td>F 区域，地址为2，第 2 位</td></tr><tr><td>DB1.DBW10.0</td><td>bit</td><td>1 数据块中，起始数据字为 10，第 0 位</td></tr><tr><td>DB2.DBW1.7</td><td>bit</td><td>2 数据块中，起始数据字为 1，第 7 位</td></tr><tr><td>DB1.DBW12.20</td><td>string</td><td>1 数据块中，起始数据字为 12，字符串长度为 20</td></tr><tr><td>DB1.DBW12.20D</td><td>wstring</td><td>1 数据块中，起始数据字为 12，字符串长度为 20，双字节字符</td></tr><tr><td>DB1.DBW100.20</td><td>ARRAY_CHAR</td><td>1 数据块中，起始数据字为 100，字符数组长度为 20</td></tr></tbody></table><p>ARRAY_CHAR 展示和写入形式为字符串。</p><h2 id="应用场景" tabindex="-1">应用场景 <a class="header-anchor" href="#应用场景" aria-label="Permalink to “应用场景”">​</a></h2><p>您可通过 GridBeat S7 ISOTCP 插件连接西门子 S7-1200 PLC，具体操作步骤，见 <a href="./example/s71200/s71200.html">Siemens 1200 PLC 连接示例</a></p><h2 id="数据监控" tabindex="-1">数据监控 <a class="header-anchor" href="#数据监控" aria-label="Permalink to “数据监控”">​</a></h2><p>完成点位的配置后，您可点击 <strong>监控</strong> -&gt; <strong>数据监控</strong>查看设备信息以及反控设备，具体可参考<a href="./../../../admin/monitoring.html">数据监控</a>。</p>',34)])])}const P=d(i,[["render",n]]);export{b as __pageData,P as default};
