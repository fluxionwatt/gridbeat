import{_ as d,c as r,o as a,ah as e}from"./chunks/framework.DGOuNAW6.js";const p=JSON.parse('{"title":"Inovance Modbus TCP","description":"","frontmatter":{},"headers":[],"relativePath":"zh_CN/configuration/south-devices/modbus-hc-tcp/modbus-hc-tcp.md","filePath":"zh_CN/configuration/south-devices/modbus-hc-tcp/modbus-hc-tcp.md"}'),i={name:"zh_CN/configuration/south-devices/modbus-hc-tcp/modbus-hc-tcp.md"};function o(n,t,h,s,l,b){return a(),r("div",null,[...t[0]||(t[0]=[e('<h1 id="inovance-modbus-tcp" tabindex="-1">Inovance Modbus TCP <a class="header-anchor" href="#inovance-modbus-tcp" aria-label="Permalink to “Inovance Modbus TCP”">​</a></h1><p>Inovance Modbus TCP 是一种基于以太网的 Modbus 协议版本，它使用 TCP/IP 协议进行通信。</p><p>GridBeat 的 Inovance Modbus TCP 插件适配汇川 PLC 点位。</p><h2 id="添加插件" tabindex="-1">添加插件 <a class="header-anchor" href="#添加插件" aria-label="Permalink to “添加插件”">​</a></h2><p>在 <strong>配置 -&gt; 南向设备</strong>，点击<strong>添加设备</strong>来创建设备节点，输入插件名称，插件类型选择 <strong>Inovance Modbus TCP</strong> 启用插件。</p><table tabindex="0"><thead><tr><th><div style="width:100pt;">插件</div></th><th>说明</th></tr></thead><tbody><tr><td><strong>Inovance Modbus TCP</strong></td><td>Modbus TCP 协议实现，适配汇川 PLC 点位。</td></tr></tbody></table><h2 id="设备配置" tabindex="-1">设备配置 <a class="header-anchor" href="#设备配置" aria-label="Permalink to “设备配置”">​</a></h2><p>点击插件卡片或插件列，进入<strong>设备配置</strong>页。配置 GridBeat 与设备建立连接所需的参数，下表为插件相关的配置项。</p><table tabindex="0"><thead><tr><th><div style="width:100pt;">字段</div></th><th>说明</th></tr></thead><tbody><tr><td><strong>4 字节字节序</strong></td><td>32 位数据类型字节序，ABCD 对应 1234。</td></tr><tr><td><strong>8 字节字节序</strong></td><td>64 位数据类型字节序，每个数字代表一字节。</td></tr><tr><td><strong>指令发送间隔</strong></td><td>发送每条读写指令之间的等待时间。</td></tr><tr><td><strong>PLC IP 地址</strong></td><td>TCP 连接时，设备的 IP 地址。</td></tr><tr><td><strong>PLC 端口号</strong></td><td>TCP 连接时，设备的端口号。</td></tr><tr><td><strong>连接超时时间</strong></td><td>等待设备返回指令响应的时间。</td></tr><tr><td><strong>校验报文头</strong></td><td>选择是否对报文头进行校验。选择校验后，遇到报文头错误时 gridbeat 与设备会重新连接。</td></tr></tbody></table><h2 id="设置组和点位" tabindex="-1">设置组和点位 <a class="header-anchor" href="#设置组和点位" aria-label="Permalink to “设置组和点位”">​</a></h2><p>完成插件的添加和配置后，要建立设备与 GridBeat 之间的通信，首先为南向驱动程序添加组和点位。</p><p>完成设备配置后，在<strong>南向设备</strong>页，点击设备卡片/设备列进入<strong>组列表</strong>页。点击<strong>创建</strong>来创建组，设定组名称以及采集间隔。完成组的创建后，点击组名称进入<strong>点位列表</strong>页，添加需要采集的设备点位，包括点位地址，点位属性，数据类型等。</p><p>公共配置项部分可参考<a href="./../south-devices.html">连接南向设备</a>，本页将介绍支持的数据类型和地址格式部分。</p><h3 id="数据类型" tabindex="-1">数据类型 <a class="header-anchor" href="#数据类型" aria-label="Permalink to “数据类型”">​</a></h3><ul><li>BIT</li><li>INT8</li><li>UINT8</li><li>INT16</li><li>UINT16</li><li>INT32</li><li>UINT32</li><li>INT64</li><li>UINT64</li><li>FLOAT</li><li>DOUBLE</li><li>STRING</li><li>BYTES</li></ul><h3 id="地址格式" tabindex="-1">地址格式 <a class="header-anchor" href="#地址格式" aria-label="Permalink to “地址格式”">​</a></h3><blockquote><p>ADDRESS[.BIT][#ENDIAN][.LEN[H][L][D][E]][.BYTES]</p></blockquote><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>由于使用 TCP/IP 协议进行通信，通过 IP 地址及端口号搜索设备，报文无需特别指定站点号，GridBeat 默认站点号为 1 。</p></div><h4 id="address" tabindex="-1"><strong>ADDRESS</strong> <a class="header-anchor" href="#address" aria-label="Permalink to “ADDRESS”">​</a></h4><p>必填，指寄存器地址。汇川 PLC 对于 MODBUS 协议支持线圈和寄存器访问。不同于标准 Modbus 协议，每个区域的地址范围如下表所示。</p><p>地址区域按 PLC 型号分为两种。</p><p>小型 PLC：EASY 系列、H5U 等。</p><table tabindex="0"><thead><tr><th>地址</th><th>地址范围</th><th>数量</th><th>属性</th><th>寄存器大小</th><th>功能码</th><th>数据类型</th></tr></thead><tbody><tr><td>M0-M7999（线圈）</td><td>0x0000-0x1F3F (0-7999)</td><td>8000</td><td>读/写</td><td>1Bit</td><td>0x01,0x05,0x0f</td><td>BIT</td></tr><tr><td>B0-B32767（线圈）</td><td>0x3000-0xAFFF (12288-45055)</td><td>32768</td><td>读/写</td><td>1Bit</td><td>0x01,0x05,0x0f</td><td>BIT</td></tr><tr><td>S0-S4095（线圈）</td><td>0xE000-0xEFFF (57344-61439)</td><td>4096</td><td>读/写</td><td>1Bit</td><td>0x01,0x05,0x0f</td><td>BIT</td></tr><tr><td>X0-X1777（8 进制）（线圈）</td><td>0xF800-0xFBFF (63488-64511)</td><td>1024</td><td>读/写</td><td>1Bit</td><td>0x01,0x05,0x0f</td><td>BIT</td></tr><tr><td>Y0-X1777（8 进制）（线圈）</td><td>0xFC00-0xFFFF (64512-65535)</td><td>1024</td><td>读/写</td><td>1Bit</td><td>0x01,0x05,0x0f</td><td>BIT</td></tr><tr><td>D0-D7999（保持寄存器）</td><td>0x0000-0x1F3F (0-7999)</td><td>8000</td><td>读/写</td><td>16Bit,2Byte</td><td>0x03,0x06,0x10</td><td>多种</td></tr><tr><td>R0-R32767（保持寄存器）</td><td>0x3000-0xAFFF (12288-45055)</td><td>32768</td><td>读/写</td><td>16Bit,2Byte</td><td>0x03,0x06,0x10</td><td>多种</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>X 和 Y 区域的地址以八进制表示。</p></div><p>中型 PLC：AM 系列，AC 系列等。</p><table tabindex="0"><thead><tr><th>地址</th><th>地址范围</th><th>数量</th><th>属性</th><th>寄存器大小</th><th>功能码</th><th>数据类型</th></tr></thead><tbody><tr><td>QX0.0-QX8191.7（线圈）</td><td>0x0000-0xFFFF (0-65536)</td><td>65536</td><td>读/写</td><td>1Bit</td><td>0x01,0x05,0x0f</td><td>BIT</td></tr><tr><td>IX0.0-IX8191.7（离散量输入）</td><td>0x0000-0xFFFF (0-65536)</td><td>65536</td><td>读</td><td>1Bit</td><td>0x01,0x05,0x0f</td><td>BIT</td></tr><tr><td>MW0-MW65535（保持寄存器）</td><td>0x0000-0xFFFF (0-65536)</td><td>65536</td><td>读/写</td><td>16Bit,2Byte</td><td>0x03,0x06,0x10</td><td>多种</td></tr><tr><td>SM0-SM7999</td><td>0x0000-0x1F3F (0-7999)</td><td>8000</td><td>读/写</td><td>16Bit,2Byte</td><td>0x01,0x05,0x0f</td><td>BIT</td></tr><tr><td>SD0-SD7999</td><td>0x0000-0x1F3F (0-7999)</td><td>8000</td><td>读/写</td><td>16Bit,2Byte</td><td>0x03,0x06,0x10</td><td>多种</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>M、I、Q 区域有多种寻址方式，支持如下寻址方式：（M|I|Q）X、（M|I|Q）B、（M|I|Q）W、（M|I|Q）D，分别按 bit、Byte、Word、Dword 寻址。 当采用 MX、MB 寻址方式时点位仅支持读属性。</p></div><h4 id="bit" tabindex="-1"><strong>.BIT</strong> <a class="header-anchor" href="#bit" aria-label="Permalink to “.BIT”">​</a></h4><p>选填，寄存器中的特定 bit，例如：</p><table tabindex="0"><thead><tr><th>地址</th><th>数据类型</th><th>说明</th></tr></thead><tbody><tr><td>D4.0</td><td>bit</td><td>D 区域，地址为 4，第 0 位。</td></tr><tr><td>D10.4</td><td>bit</td><td>D 区域，地址为 10，第 4 位。</td></tr><tr><td>D1.15</td><td>bit</td><td>D 区域，地址为 1，第 15 位。</td></tr></tbody></table><h4 id="endian" tabindex="-1"><strong>#ENDIAN</strong> <a class="header-anchor" href="#endian" aria-label="Permalink to “#ENDIAN”">​</a></h4><p>选填，字节顺序，适用于 int16/uint16/int32/uint32/float 数据类型，详细说明见下表。</p><table tabindex="0"><thead><tr><th>符号</th><th>字节顺序</th><th>支持的数据类型</th><th>备注</th></tr></thead><tbody><tr><td>#B</td><td>2,1</td><td>int16/uint16</td><td></td></tr><tr><td>#L</td><td>1,2</td><td>int16/uint16</td><td>不填，默认字节顺序</td></tr><tr><td>#LL</td><td>3,4,1,2</td><td>int32/uint32/float</td><td>不填，默认字节顺序</td></tr><tr><td>#LB</td><td>4,3,2,1</td><td>int32/uint32/float</td><td></td></tr><tr><td>#BL</td><td>1,2,3,4</td><td>int32/uint32/float</td><td></td></tr><tr><td>#BB</td><td>2,1,4,3</td><td>int32/uint32/float</td><td></td></tr></tbody></table><p>字节顺序同样适用于 int64/uint64/double 数据类型，每个数字代表一字节，详细说明见下表。</p><table tabindex="0"><thead><tr><th>符号</th><th>字节顺序</th><th>支持的数据类型</th><th>备注</th></tr></thead><tbody><tr><td>#LL</td><td>12,34,56,78</td><td>int64/uint64/double</td><td>不填，默认字节顺序</td></tr><tr><td>#LB</td><td>21,43,65,87</td><td>int64/uint64/double</td><td></td></tr><tr><td>#BL</td><td>78,56,34,12</td><td>int64/uint64/double</td><td></td></tr><tr><td>#BB</td><td>87,65,43,21</td><td>int64/uint64/double</td><td></td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>点位字节序优先级高于节点字节序配置。即点位配置字节序后，字节序按照点位的配置，忽略节点配置。</p></div><h4 id="len-h-l" tabindex="-1">.LEN[H][L] <a class="header-anchor" href="#len-h-l" aria-label="Permalink to “.LEN[H][L]”">​</a></h4><p>当数据类型为 STRING 类型时，<strong>.LEN</strong> 是必填项，表示字符串需要占用的字节长度，每个寄存器中包含<strong>H</strong>，<strong>L</strong> 两种存储方式，如下列表格所示。</p><table tabindex="0"><thead><tr><th>符号</th><th>说明</th></tr></thead><tbody><tr><td>H</td><td>一个寄存器存储两个字节，高字节在前低字节在后。</td></tr><tr><td>L</td><td>一个寄存器存储两个字节，低字节在前高字节在后。</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>请注意，汇川插件字符串默认字节序为 L。</p></div><h4 id="bytes" tabindex="-1"><strong>.BYTES</strong> <a class="header-anchor" href="#bytes" aria-label="Permalink to “.BYTES”">​</a></h4><p>选填，读写 bytes 类型数据的长度，适用于 bytes 数据类型。</p><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>Modbus 驱动的一个寄存器包含 2 个 bytes，在以 bytes 数据类型读取和写入 Modbus 寄存器数据时，请保证 bytes 参数设置为偶数。</p></div><h3 id="地址示例" tabindex="-1">地址示例 <a class="header-anchor" href="#地址示例" aria-label="Permalink to “地址示例”">​</a></h3><table tabindex="0"><thead><tr><th>地址</th><th>数据类型</th><th>说明</th></tr></thead><tbody><tr><td>D8</td><td>int16</td><td>D 区域，地址为 8，字节顺序为 #L</td></tr><tr><td>D8#L</td><td>int16</td><td>D 区域，地址为 8，字节顺序为 #L</td></tr><tr><td>D8#B</td><td>uint16</td><td>D 区域，地址为 8，字节顺序为 #B</td></tr><tr><td>D8</td><td>int32</td><td>D 区域，地址为 8，字节顺序为 #LL</td></tr><tr><td>D8#LB</td><td>uint32</td><td>D 区域，地址为 8，字节顺序为 #LB</td></tr><tr><td>D8#BB</td><td>uint32</td><td>D 区域，地址为 8，字节顺序为 #BB</td></tr><tr><td>D8#LL</td><td>int32</td><td>D 区域，地址为 8，字节顺序为 #LL</td></tr><tr><td>D8#BL</td><td>float</td><td>D 区域，地址为 8，字节顺序为 #BL</td></tr><tr><td>D1.10</td><td>String</td><td>D 区域，地址为 1，字符长度为 10，字节顺序为 L，占用的地址为 D1 ～ D5</td></tr><tr><td>D1.10H</td><td>String</td><td>D 区域，地址为 1，字符长度为 10，字节顺序为 H，占用的地址为 D1 ～ D5</td></tr><tr><td>D1.10L</td><td>String</td><td>D 区域，地址为 1，字符长度为 10，字节顺序为 L，占用的地址为 D1 ～ D5</td></tr><tr><td>M8</td><td>bit</td><td>M 区域，地址为 8</td></tr><tr><td>X10</td><td>bit</td><td>X 区域，地址为 8</td></tr><tr><td>MX1.1</td><td>bit</td><td>M 区域，地址为第一个寄存器第十位</td></tr><tr><td>MB1</td><td>int8</td><td>X 区域，地址为第一个寄存器低字节</td></tr><tr><td>MW1</td><td>int16</td><td>X 区域，地址为第二个寄存器</td></tr><tr><td>MD1</td><td>int32</td><td>X 区域，地址为第三个寄存器</td></tr></tbody></table><h2 id="应用场景" tabindex="-1">应用场景 <a class="header-anchor" href="#应用场景" aria-label="Permalink to “应用场景”">​</a></h2><p>使用汇川的 PLC 编程软件 AutoShop 可以快速连接 PLC 和 GridBeat 并调试，具体操作见 <a href="./example/autoshop/autoshop-modbus.html">Easy521 连接示例</a>。</p><h2 id="数据监控" tabindex="-1">数据监控 <a class="header-anchor" href="#数据监控" aria-label="Permalink to “数据监控”">​</a></h2><p>完成点位的配置后，您可点击 <strong>监控</strong> -&gt; <strong>数据监控</strong>查看设备信息以及反控设备，具体可参考<a href="./../../../admin/monitoring.html">数据监控</a>。</p>',49)])])}const x=d(i,[["render",o]]);export{p as __pageData,x as default};
