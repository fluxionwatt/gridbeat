import{_ as e,c as d,o as r,ah as s}from"./chunks/framework.DGOuNAW6.js";const c=JSON.parse('{"title":"Modbus TCP","description":"","frontmatter":{},"headers":[],"relativePath":"en_US/configuration/south-devices/modbus/modbus-tcp.md","filePath":"en_US/configuration/south-devices/modbus/modbus-tcp.md"}'),a={name:"en_US/configuration/south-devices/modbus/modbus-tcp.md"};function i(n,t,o,h,l,u){return r(),d("div",null,[...t[0]||(t[0]=[s('<h1 id="modbus-tcp" tabindex="-1">Modbus TCP <a class="header-anchor" href="#modbus-tcp" aria-label="Permalink to “Modbus TCP”">​</a></h1><h2 id="module-description" tabindex="-1">Module Description <a class="header-anchor" href="#module-description" aria-label="Permalink to “Module Description”">​</a></h2><p>Modbus is a communication protocol commonly used to connect industrial automation equipment and control systems, and it can be implemented on various physical and transport layers, including serial and Ethernet. Modbus TCP and Modbus RTU are two commonly used implementation methods.</p><p>Modbus TCP uses Ethernet communication and is a protocol based on the TCP/IP protocol stack. In GridBeat, the modbus-tcp and modbus-plus-tcp modules use the Modbus TCP protocol. When some devices that support Modbus RTU and other protocols need to be converted to Modbus TCP protocol for passthrough or similar functions, these two modules are also required.<br> The difference between the two modules is that the modbus-tcp module is open source and does not require License authentication, while the modbus-plus-tcp module requires License authentication. The modbus-plus-tcp module supports configuring the Client/Server mode, as well as more data types, and also optimizes the read/write performance. Therefore, the functionality of the modbus-plus-tcp module is stronger than that of the modbus-tcp module. The modbus-tcp module is suitable for users who are familiar with the use of GridBeat.</p><h2 id="parameter-configuration" tabindex="-1">Parameter Configuration <a class="header-anchor" href="#parameter-configuration" aria-label="Permalink to “Parameter Configuration”">​</a></h2><h3 id="modbus-tcp-parameter-setting" tabindex="-1">Modbus TCP Parameter Setting <a class="header-anchor" href="#modbus-tcp-parameter-setting" aria-label="Permalink to “Modbus TCP Parameter Setting”">​</a></h3><table tabindex="0"><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><strong>connection mode</strong></td><td>The way the driver connects to the device, the default is client, which means that the gridbeat driver is used as the client</td></tr><tr><td><strong>host</strong></td><td>When gridbeat is used as a client, host means the ip of the remote device. When used as a server, it means the ip used by gridbeat locally, and 0.0.0.0 can be filled in by default</td></tr><tr><td><strong>port</strong></td><td>When gridbeat is used as client, port means the tcp port of the remote device. When used as a server, it means the tcp port used by gridbeat locally.</td></tr><tr><td><strong>timeout</strong></td><td>Timeout for sending requests to the device</td></tr></tbody></table><h3 id="modbus-rtu-parameter-setting" tabindex="-1">Modbus RTU Parameter Setting <a class="header-anchor" href="#modbus-rtu-parameter-setting" aria-label="Permalink to “Modbus RTU Parameter Setting”">​</a></h3><table tabindex="0"><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><strong>device</strong></td><td>Use a serial device, e.g. <strong>/dev/ttyUSB0</strong></td></tr><tr><td><strong>stop</strong></td><td>stopbits, default 1</td></tr><tr><td><strong>parity</strong></td><td>parity bit, default 2, which means even parity</td></tr><tr><td><strong>baud</strong></td><td>baudrate, default 9600</td></tr><tr><td><strong>data</strong></td><td>bytesize, default 8</td></tr><tr><td><strong>timeout</strong></td><td>Timeout for sending requests to the device</td></tr></tbody></table><h3 id="support-data-type" tabindex="-1">Support Data Type <a class="header-anchor" href="#support-data-type" aria-label="Permalink to “Support Data Type”">​</a></h3><ul><li>INT16</li><li>INT32</li><li>UINT16</li><li>UINT32</li><li>FLOAT</li><li>BIT</li><li>STRING</li></ul><h2 id="usage-of-address-format" tabindex="-1">Usage of Address Format <a class="header-anchor" href="#usage-of-address-format" aria-label="Permalink to “Usage of Address Format”">​</a></h2><h3 id="address-format" tabindex="-1">Address Format <a class="header-anchor" href="#address-format" aria-label="Permalink to “Address Format”">​</a></h3><blockquote><p>SLAVE!ADDRESS[.BIT][#ENDIAN][.LEN[H][L][D][E]]</p></blockquote><h4 id="slave" tabindex="-1"><strong>SLAVE</strong> <a class="header-anchor" href="#slave" aria-label="Permalink to “SLAVE”">​</a></h4><p>Required, Slave is the slave address or site number.</p><h4 id="address" tabindex="-1"><strong>ADDRESS</strong> <a class="header-anchor" href="#address" aria-label="Permalink to “ADDRESS”">​</a></h4><p>Required, Address is the register address.The Modbus protocol has four areas, each area has a maximum of 65536 registers, and the address range of each area is shown in the table below. It should be noted that the storage area as large as 65536 is generally not required in practical applications. Generally, PLC manufacturers generally use an address range within 10000. Please pay attention to fill in the correct point address according to the area and function code of the device.</p><table tabindex="0"><thead><tr><th>AREA</th><th>ADDRESS RANGE</th><th>ATTRIBUTE</th><th>REGISTER SIZE</th><th>FUNCTION</th><th>DATA TYPE</th></tr></thead><tbody><tr><td>coil</td><td>000001 ~ 065536</td><td>read/write</td><td>1bit</td><td>0x1,0x5,0x0f</td><td>bit</td></tr><tr><td>input</td><td>100001 ~ 165536</td><td>read</td><td>1bit</td><td>0x2</td><td>bit</td></tr><tr><td>input register</td><td>300001 ~ 365536</td><td>read</td><td>16bit</td><td>0x4</td><td>bit,int16,uint16,int32,uint32,float,string</td></tr><tr><td>hold register</td><td>400001 ~ 465536</td><td>read/write</td><td>16bit</td><td>0x3,0x6,0x10</td><td>bit,int16,uint16,int32,uint32,float,string</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>Some device documents use function codes and register addresses to describe instructions. Because register address numbers start from 0, the register address range for each region is 0 to 65535. First, determine the highest digit of the address according to the function code, and add 1 to the register address as the address of GridBeat.</p></div><p>example, function is 0x03, and register address is 0, then address used by gridbeat is 400001. function is 0x02, and register address is 5, then address used by gridbeat is 100006.</p><h4 id="bit" tabindex="-1"><strong>.BIT</strong> <a class="header-anchor" href="#bit" aria-label="Permalink to “.BIT”">​</a></h4><p>Optional, a bit of a register address.</p><h4 id="endian" tabindex="-1"><strong>#ENDIAN</strong> <a class="header-anchor" href="#endian" aria-label="Permalink to “#ENDIAN”">​</a></h4><p>Optional, endianness, applicable to int16/uint16/int32/uint32/float data types, see the table below for details.</p><table tabindex="0"><thead><tr><th>Symbol</th><th>endianness</th><th>Data Type</th><th>Remark</th></tr></thead><tbody><tr><td>#B</td><td>2,1</td><td>int16/uint16</td><td></td></tr><tr><td>#L</td><td>1,2</td><td>int16/uint16</td><td>Leave blank, default byte order</td></tr><tr><td>#LL</td><td>1,2,3,4</td><td>int32/uint32/float</td><td>Leave blank, default byte order</td></tr><tr><td>#LB</td><td>2,1,4,3</td><td>int32/uint32/float</td><td></td></tr><tr><td>#BB</td><td>3,4,1,2</td><td>int32/uint32/float</td><td></td></tr><tr><td>#BL</td><td>4,3,2,1</td><td>int32/uint32/float</td><td></td></tr></tbody></table><h4 id="len-h-l-d-e" tabindex="-1">.LEN[H][L][D][E] <a class="header-anchor" href="#len-h-l-d-e" aria-label="Permalink to “.LEN[H][L][D][E]”">​</a></h4><p>When the data type is string type, <strong>.LEN</strong> is a required, indicating the length of bytes that the string needs to occupy. Each register contains <strong>H</strong>, <strong>L</strong>, <strong>D</strong> and <strong>E</strong> four storage methods, as shown in the table below.</p><table tabindex="0"><thead><tr><th>Symbol</th><th>Description</th></tr></thead><tbody><tr><td>H</td><td>A register stores two bytes, the high byte is in front of the low byte</td></tr><tr><td>L</td><td>A register stores two bytes, the low byte is in front of the high byte</td></tr><tr><td>D</td><td>A register stores one byte, and is stored in the low byte</td></tr><tr><td>E</td><td>A register stores one byte, and is stored in the high byte</td></tr></tbody></table><h3 id="address-examples" tabindex="-1">Address Examples <a class="header-anchor" href="#address-examples" aria-label="Permalink to “Address Examples”">​</a></h3><table tabindex="0"><thead><tr><th>Address</th><th>Data Type</th><th>Description</th></tr></thead><tbody><tr><td>1!300004.0</td><td>bit</td><td>Refers to station number 1, input register area, address 300004, bit 0</td></tr><tr><td>1!400010.4</td><td>bit</td><td>Refers to station number 1, hold register area, address 400010, bit 4</td></tr><tr><td>2!400001.15</td><td>bit</td><td>Refers to station number 2, hold register area, address 400001, bit 15</td></tr><tr><td>1!300004</td><td>int16</td><td>Refers to station number 1, input register area, address 300004, endianness is #L</td></tr><tr><td>1!300004#B</td><td>int16</td><td>Refers to station number 1, input register area, address 300004, endianness is #B</td></tr><tr><td>1!300004#L</td><td>uint16</td><td>Refers to station number 1, input register area, address 300004, endianness is #L</td></tr><tr><td>1!400004</td><td>int16</td><td>Refers to station number 1, hold register area, address 400004, endianness is #L</td></tr><tr><td>1!400004#L</td><td>int16</td><td>Refers to station number 1, hold register area, address 400004, endianness is #L</td></tr><tr><td>1!400004#B</td><td>uint16</td><td>Refers to station number 1, hold register area, address 400004, endianness is #B</td></tr><tr><td>1!300004</td><td>int32</td><td>Refers to station number 1, input register area, address 300004, endianness is #LL</td></tr><tr><td>1!300004#BB</td><td>uint32</td><td>Refers to station number 1, input register area, address 300004, endianness is #BB</td></tr><tr><td>1!300004#LB</td><td>uint32</td><td>Refers to station number 1, input register area, address 300004, endianness is #LB</td></tr><tr><td>1!300004#BL</td><td>float</td><td>Refers to station number 1, input register area, address 300004, endianness is #BL</td></tr><tr><td>1!300004#LL</td><td>int32</td><td>Refers to station number 1, input register area, address 300004, endianness is #LL</td></tr><tr><td>1!400004</td><td>int32</td><td>Refers to station number 1, hold register area, address 400004, endianness is #LL</td></tr><tr><td>1!400004#LB</td><td>uint32</td><td>Refers to station number 1, hold register area, address 400004, endianness is #LB</td></tr><tr><td>1!400004#BB</td><td>uint32</td><td>Refers to station number 1, hold register area, address 400004, endianness is #BB</td></tr><tr><td>1!400004#LL</td><td>int32</td><td>Refers to station number 1, hold register area, address 400004, endianness is #LL</td></tr><tr><td>1!400004#BL</td><td>float</td><td>Refers to station number 1, hold register area, address 400004, endianness is #BL</td></tr><tr><td>1!300001.10</td><td>String</td><td>Refers to station number is 1, input register area, the address is 300001, the string length is 10, and endianness is L, the occupied address is 300001-300005</td></tr><tr><td>1!300001.10H</td><td>String</td><td>Refers to station number is 1, input register area, the address is 300001, the string length is 10, and endianness is H, the occupied address is 300001-300005</td></tr><tr><td>1!300001.10L</td><td>String</td><td>Refers to station number is 1, input register area, the address is 300001, the string length is 10, and endianness is L, the occupied address is 300001-300005</td></tr><tr><td>1!400001.10</td><td>String</td><td>Refers to station number is 1, hold register area, the address is 400001, the string length is 10, and endianness is L, the occupied address is 400001-400005</td></tr><tr><td>1!400001.10H</td><td>String</td><td>Refers to station number is 1, hold register area, the address is 400001, the string length is 10, and endianness is H, the occupied address is400001 ～ 400005</td></tr><tr><td>1!400001.10L</td><td>String</td><td>Refers to station number is 1, hold register area, the address is 400001, the string length is 10, and endianness is L, the occupied address is 400001-400005</td></tr><tr><td>1!400001.10D</td><td>String</td><td>Refers to station number is 1, hold register area, the address is 400001, the string length is 10, and endianness is D, the occupied address is 400001-400010</td></tr><tr><td>1!400001.10E</td><td>String</td><td>Refers to station number is 1, hold register area, the address is 400001, the string length is 10, and endianness is E, the occupied address is 400001-400010</td></tr></tbody></table>',31)])])}const g=e(a,[["render",i]]);export{c as __pageData,g as default};
