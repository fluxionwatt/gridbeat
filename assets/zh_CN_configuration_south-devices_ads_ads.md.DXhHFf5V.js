import{_ as e,c as r,o as a,ah as d}from"./chunks/framework.D2dsaVOY.js";const p=JSON.parse('{"title":"Beckhoff ADS","description":"","frontmatter":{},"headers":[],"relativePath":"zh_CN/configuration/south-devices/ads/ads.md","filePath":"zh_CN/configuration/south-devices/ads/ads.md"}'),o={name:"zh_CN/configuration/south-devices/ads/ads.md"};function n(i,t,h,s,l,c){return a(),r("div",null,[...t[0]||(t[0]=[d('<h1 id="beckhoff-ads" tabindex="-1">Beckhoff ADS <a class="header-anchor" href="#beckhoff-ads" aria-label="Permalink to “Beckhoff ADS”">​</a></h1><p><a href="https://www.beckhoff.com/en-us/products/automation/twincat/" target="_blank" rel="noreferrer">TwinCAT</a> 是由 Beckhoff Automation 开发的一种控制技术。它是一种基于软件的控制系统，用于自动化和控制应用。TwinCAT 能够运行在多种平台上并支持多种编程语言。</p><p>GridBeat Beckhoff ADS 插件使用户可以通过 TCP/IP 连接到 Beckhoff TwinCAT PLC。</p><h2 id="添加插件" tabindex="-1">添加插件 <a class="header-anchor" href="#添加插件" aria-label="Permalink to “添加插件”">​</a></h2><p>在 <strong>配置 -&gt; 南向设备</strong>，点击<strong>添加设备</strong>来创建设备节点，输入插件名称，插件类型选择 <strong>Beckhoff ADS</strong> 启用插件。</p><h2 id="设备配置" tabindex="-1">设备配置 <a class="header-anchor" href="#设备配置" aria-label="Permalink to “设备配置”">​</a></h2><p>点击插件卡片或插件列，进入<strong>设备配置</strong>页。配置 GridBeat 与设备建立连接所需的参数，下表为插件相关的配置项。</p><table tabindex="0"><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td>设备 IP 地址</td><td>远程设备 IP。</td></tr><tr><td>设备端口</td><td>远程设备 TCP 端口（默认 48898）。</td></tr><tr><td>源 AdsAmsNetId</td><td>运行 GridBeat 的设备的 AMS Net ID。</td></tr><tr><td>源 AdsPortNr</td><td>运行 GridBeat 的设备的 AMS Port （默认 851）。</td></tr><tr><td>目标 AdsAmsNetId</td><td>目标 PLC 的 AMS Net ID。</td></tr><tr><td>目标 AdsPortNr</td><td>目标 PLC 的 AMS Port（默认 851）。</td></tr></tbody></table><p>请注意，为了让 GridBeat 能与 TwinCAT PLC 正常通信，需要在目标 TwinCAT 软件中添加和设置对应的 ADS 路由。</p><p>其中涉及的关键 ADS 概念如下：</p><table tabindex="0"><thead><tr><th>概念</th><th>说明</th></tr></thead><tbody><tr><td>ADS 协议</td><td><a href="https://infosys.beckhoff.com/english.php?content=../content/1033/tcadscommon/12440276875.html" target="_blank" rel="noreferrer">ADS</a> (Automation Device Specification) 是 TwinCAT 的通讯协议。<br>它使得 TwinCAT 系统能够通过媒介独立的串行或网络连接，实现数据的交换和控制。<br>ADS 旨在为 TwinCAT 系统中控制器与用户界面之间的通信提供标准接口。</td></tr><tr><td>AMS Net ID</td><td><a href="https://infosys.beckhoff.com/english.php?content=../content/1033/tc3_userinterface/3813966475.html" target="_blank" rel="noreferrer">AMS Net ID</a> 是 TwinCAT 网络中本地计算机的地址。它由6个字节组成，用点分十进制表示（例如： “1.2.3.4.5.6”） 。<br>为避免通信冲突，AMS Net ID 在 TwinCAT 网络中必须是唯一的。<br>默认情况下，TwinCAT 通过在系统的 IP 地址后附加 “.1.1” 来生成 AMS Net ID 。<br>例如，在 IP 地址为 “172.17.213.60” 的系统中， 默认生成的 AMS Net ID 将为 “172.17.213.60.1.1” 。<strong>注意</strong>：实际场景不一定会使用默认生成的方式，这时请在 TwinCAT 软件中查看 AMS Net ID。</td></tr><tr><td>AMS port</td><td>TwinCAT 网络中的 ADS 设备由 AMS Net ID 和 <a href="https://infosys.beckhoff.com/english.php?content=../content/1033/tcplclib_tc2_system/31064331.html" target="_blank" rel="noreferrer">AMS port</a> 标识。<br>每个 TwinCAT 系统通常为特定的目的使用特定的 AMS Port 。<br>例如，Port 801 用于系统通信，Port 851 用于事件通知。</td></tr><tr><td>Index group/offset</td><td>ADS <a href="https://infosys.beckhoff.com/english.php?content=../content/1033/tcadscommon/12495372427.html" target="_blank" rel="noreferrer">index group 和 index offset</a> 是 TwinCAT ADS 系统服务中用于设备或程序之间进行数据交换的规范。<br>所有的读取和写入操作都通过 index group 和 index offset 在 PLC 上进行。<br>Index offset 是16位的，index offset 是32位的。<br>Index group 用于指定正在访问的数据的类别或类型，而 index offset 指定该类别或类型中的特定数据元素。</td></tr></tbody></table><h2 id="设置组和点位" tabindex="-1">设置组和点位 <a class="header-anchor" href="#设置组和点位" aria-label="Permalink to “设置组和点位”">​</a></h2><p>完成插件的添加和配置后，要建立设备与 GridBeat 之间的通信，首先为南向驱动程序添加组和点位。</p><p>完成设备配置后，在<strong>南向设备</strong>页，点击设备卡片/设备列进入<strong>组列表</strong>页。点击<strong>创建</strong>来创建组，设定组名称以及采集间隔。完成组的创建后，点击组名称进入<strong>点位列表</strong>页，添加需要采集的设备点位，包括点位地址，点位属性，数据类型等。</p><p>公共配置项部分可参考<a href="./../south-devices.html">连接南向设备</a>，本页将介绍支持的数据类型和地址格式部分。</p><h3 id="数据类型" tabindex="-1">数据类型 <a class="header-anchor" href="#数据类型" aria-label="Permalink to “数据类型”">​</a></h3><ul><li>BOOL</li><li>INT8</li><li>UINT8</li><li>INT16</li><li>UINT16</li><li>INT32</li><li>UINT32</li><li>INT64</li><li>UINT64</li><li>FLOAT</li><li>DOUBLE</li><li>STRING</li></ul><h3 id="地址格式" tabindex="-1">地址格式 <a class="header-anchor" href="#地址格式" aria-label="Permalink to “地址格式”">​</a></h3><p>对 ADS 插件来说，一个点位地址由 INDEX_GROUP 和 INDEX_OFFSET 两个部分组成，分别表示 index group 和 index offset 。</p><blockquote><p>INDEX_GROUP,INDEX_OFFSET</p></blockquote><p><code>INDEX_GROUP</code> 和 <code>INDEX_OFFSET</code> 可以分别使用十进制或十六进制指定。</p><h3 id="地址示例" tabindex="-1">地址示例 <a class="header-anchor" href="#地址示例" aria-label="Permalink to “地址示例”">​</a></h3><table tabindex="0"><thead><tr><th>地址</th><th>数据类型</th><th>说明</th></tr></thead><tbody><tr><td>0x4040,0x7d01c</td><td>bool</td><td>index_group 0x4040, index_offset 0x7d01c</td></tr><tr><td>16448,51029</td><td>uint8</td><td>index_group 0x4040, index_offset 0x7d01d</td></tr><tr><td>0x4040,512896.5</td><td>string</td><td>index_group 0x4040, index_offset 0x7d380, 字符串长度为 5</td></tr></tbody></table><h2 id="应用场景" tabindex="-1">应用场景 <a class="header-anchor" href="#应用场景" aria-label="Permalink to “应用场景”">​</a></h2><p>您可通过 GridBeat 通过 ADS 协议采集倍福 PLC 上不同地址区域的数据，具体步骤，见<a href="./plc-ads/ads.html">采集 PLC 数据（Beckhoff ADS 协议）</a>。</p><h2 id="数据监控" tabindex="-1">数据监控 <a class="header-anchor" href="#数据监控" aria-label="Permalink to “数据监控”">​</a></h2><p>完成点位的配置后，您可点击 <strong>监控</strong> -&gt; <strong>数据监控</strong>查看设备信息以及反控设备，具体可参考<a href="./../../../admin/monitoring.html">数据监控</a>。</p>',27)])])}const b=e(o,[["render",n]]);export{p as __pageData,b as default};
