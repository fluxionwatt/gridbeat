import{_ as d,c as r,o as n,ah as i}from"./chunks/framework.D2dsaVOY.js";const c=JSON.parse('{"title":"Fanuc Focas Ethernet","description":"","frontmatter":{},"headers":[],"relativePath":"zh_CN/configuration/south-devices/fanuc-focas/fanuc-focas.md","filePath":"zh_CN/configuration/south-devices/fanuc-focas/fanuc-focas.md"}'),a={name:"zh_CN/configuration/south-devices/fanuc-focas/fanuc-focas.md"};function e(m,t,o,l,s,u){return n(),r("div",null,[...t[0]||(t[0]=[i('<h1 id="fanuc-focas-ethernet" tabindex="-1">Fanuc Focas Ethernet <a class="header-anchor" href="#fanuc-focas-ethernet" aria-label="Permalink to “Fanuc Focas Ethernet”">​</a></h1><p>GridBeat FOCAS 驱动支持使用 FOCAS2 协议对 FANUC 各类型设备（包含多通道设备）进行数据获取和写入，支持坐标，运行状态，报警，操作信息，宏变量，参数，诊断数据，程序数据，刀偏，刀具，刀具寿命，PMC等。</p><p><strong>支持架构</strong>: amd64, arm/v7</p><h2 id="设备设置" tabindex="-1">设备设置 <a class="header-anchor" href="#设备设置" aria-label="Permalink to “设备设置”">​</a></h2><table tabindex="0"><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td>host</td><td>设备 IP 地址</td></tr><tr><td>port</td><td>设备端口号, 默认 8193</td></tr><tr><td>timeout</td><td>连接超时时间， 默认 3000 毫秒</td></tr></tbody></table><h2 id="支持的数据类型" tabindex="-1">支持的数据类型 <a class="header-anchor" href="#支持的数据类型" aria-label="Permalink to “支持的数据类型”">​</a></h2><ul><li>uint8</li><li>int8</li><li>uint16</li><li>int16</li><li>uint32</li><li>int32</li><li>uint64</li><li>int64</li><li>float</li><li>double</li><li>bit</li><li>string</li></ul><h2 id="cnc-数据" tabindex="-1">CNC 数据 <a class="header-anchor" href="#cnc-数据" aria-label="Permalink to “CNC 数据”">​</a></h2><h3 id="地址格式" tabindex="-1">地址格式 <a class="header-anchor" href="#地址格式" aria-label="Permalink to “地址格式”">​</a></h3><blockquote><p>address[.m][.n][.l][@p]</p></blockquote><p>address 最多可以支持3个参数，@ 指定 address 所在通道。</p><table tabindex="0"><thead><tr><th>tag 标识（地址）</th><th>说明</th><th>数据类型</th><th>参数</th><th>备注</th></tr></thead><tbody><tr><td>actf</td><td>实际进给速度</td><td>int64/uint64</td><td>-</td><td></td></tr><tr><td>absolute.m</td><td>轴绝对坐标</td><td>int64/uint64</td><td>轴序号</td><td>计算了刀偏，和 CNC 界面显示可能不一致</td></tr><tr><td>absolute2.m</td><td>轴绝对坐标2</td><td>int64/uint64</td><td>轴序号</td><td>数据与 CNC 界面一致</td></tr><tr><td>machine.m</td><td>轴机械坐标</td><td>int64/uint64</td><td>轴序号</td><td></td></tr><tr><td>relative.m</td><td>轴相对坐标</td><td>int64/uint64</td><td>轴序号</td><td>计算了刀偏，和 CNC 界面显示可能不一致</td></tr><tr><td>relative2.m</td><td>轴相对坐标2</td><td>int64/uint64</td><td>轴序号</td><td>数据与 CNC 界面一致</td></tr><tr><td>distance.m</td><td>轴剩余距离坐标</td><td>int64/uint64</td><td>轴序号</td><td></td></tr><tr><td>acts</td><td>实际主轴转速</td><td>int64/uint64</td><td>-</td><td></td></tr><tr><td>acts2.m</td><td>实际主轴转速</td><td>int64/uint64</td><td>主轴序号</td><td></td></tr><tr><td>skip</td><td>轴跳过坐标</td><td>int64/uint64</td><td>轴序号</td><td></td></tr><tr><td>srvdelay</td><td>轴伺服延迟量</td><td>int64/uint64</td><td>轴序号</td><td></td></tr><tr><td>accdecdly</td><td>轴加速/减速延迟量</td><td>int64/uint64</td><td>轴序号</td><td></td></tr><tr><td>spcss_srpm</td><td>转换主轴速度</td><td>int64/uint64</td><td>-</td><td></td></tr><tr><td>spcss_sspm</td><td>指定表面速度</td><td>int64/uint64</td><td>-</td><td></td></tr><tr><td>spcss_smax</td><td>夹具最大主轴速度</td><td>int64/uint64</td><td>-</td><td></td></tr><tr><td>movrlap_input.m</td><td>输入重叠运动值</td><td>int64/uint64</td><td>轴序号</td><td></td></tr><tr><td>movrlap_output.m</td><td>输出重叠运动值</td><td>int64/uint64</td><td>轴序号</td><td></td></tr><tr><td>spload.m</td><td>主轴负载</td><td>int32/uint32</td><td>主轴序号</td><td></td></tr><tr><td>spmaxrpm.m</td><td>主轴最大转速比率</td><td>int32/uint32</td><td>主轴序号</td><td></td></tr><tr><td>spgear.m</td><td>主轴齿轮比</td><td>int32/uint32</td><td>主轴序号</td><td></td></tr><tr><td>runState</td><td>运行状态</td><td>int32/uint32</td><td>-</td><td>1：故障 2：运行 3：空闲</td></tr><tr><td>controlMode</td><td>控制模式</td><td>int32/uint32</td><td>-</td><td>0：MID 1：AUTO 3：EDIT 5：JOB 8：INC feed 9：REFerence 10：ReMoTe</td></tr><tr><td>programMain</td><td>加工程序名</td><td>string</td><td>-</td><td></td></tr><tr><td>mainProgramNo</td><td>主程序号</td><td>int16/uint16</td><td>-</td><td></td></tr><tr><td>subProgramNo</td><td>子程序号</td><td>int16/uint16</td><td>-</td><td></td></tr><tr><td>alarm</td><td>报警ID</td><td>int32/uint32</td><td>-</td><td>0：WS 1：PW 2：IO 3：PS</td></tr><tr><td>alarmMsg.m</td><td>报警内容</td><td>string</td><td>m 为序号</td><td>取值范围为1~16</td></tr><tr><td>param.m.n</td><td>参数</td><td>int32/uint32</td><td>m 为参数 ID，n 为轴数</td><td>如果参数不是轴相关则设置为0</td></tr><tr><td>alarmMsg2.m.n</td><td>报警内容</td><td>int16/uint16/string</td><td>m 为序号, n 为 值参数</td><td>m 取值范围为1~16， n=0 报警类型 n=1 报警编号 n=2 报警内容</td></tr><tr><td>macroType</td><td>宏变量类型</td><td>int16/uint16</td><td>-</td><td></td></tr><tr><td>macroInfo.m</td><td>宏变量信息</td><td>int16/uint16</td><td>n 为值参数</td><td>n=0 局部变量数 n=1 公共变量指标</td></tr><tr><td>macro.m.n</td><td>宏变量类型</td><td>int32/uint32</td><td>m 为变量 ID n 为值参数</td><td>n=0 宏变量值 n=1 小数位数</td></tr><tr><td>paraNum.m</td><td>参数数量</td><td>int16/uint16</td><td>n 为值参数</td><td>n=0 参数最小数目 n=1 参数最大数目 n=3 参数总数</td></tr><tr><td>pitchInfoNum.m</td><td>俯仰误差补偿数据数量</td><td>int16/uint16</td><td>-</td><td>-</td></tr><tr><td>pitch.m</td><td>俯仰误差补偿数据</td><td>int8/uint8</td><td>m 为序号</td><td>-</td></tr><tr><td>tool.m.n</td><td>刀具数据</td><td>int64/uint64</td><td>m 为刀具编号，n 为值变量</td><td>m 从 1 开始，n=0 刀具号 n=1 使用次数 n=2 刀具寿命 n=3 预警寿命</td></tr><tr><td>toolf2.m.n</td><td>刀具数据</td><td>int64/uint64</td><td>m 为刀具编号，n 为值变量</td><td>m 从 1 开始，n=0 刀具号 n=1 使用次数 n=2 刀具寿命 n=3 预警寿命</td></tr><tr><td>toolOffset.m.n</td><td>刀偏数据</td><td>int32/uint32</td><td>m 为刀具编号，n 为刀偏类型</td><td>m 从 1 开始，n 和具体的系统型号有关，以 0i-D 为例，n=0 半径磨损， n=1 半径形状，n=2 长度磨损, n=3 长度形状</td></tr><tr><td>toolOffsetRange.m.n.l</td><td>刀偏数据设定范围</td><td>int32/uint32</td><td>m 为刀具编号，n 为刀偏类型，l 为 值类型</td><td>m 从 1 开始，n 和具体的系统型号有关，以 0i-D 为例，n=0 半径磨损， n=1 半径形状，n=2 长度磨损, n=3 长度形状, l=0 最小值 l=1 最大值 l=2状态</td></tr><tr><td>toolOffsetInfo.m</td><td>刀偏信息</td><td>int16/uint16</td><td>m 为刀偏类型</td><td>m=0 内存类型， m=1 可用刀偏数量，n=2 刀偏类型</td></tr><tr><td>wkcdsfms.m</td><td>工件坐标偏移测量值</td><td>int32/uint32</td><td>轴序号</td><td>M 系列不支持</td></tr><tr><td>wkcdshft.m</td><td>工件坐标偏移值</td><td>int32/uint32</td><td>轴序号</td><td>M 系列不支持</td></tr><tr><td>wksftRange.m</td><td>工件坐标偏移值范围</td><td>int32/uint32</td><td>n 为值变量</td><td>m=0 最小值， m=1 最大值， m=2 类型， M 系列不支持</td></tr><tr><td>zofs</td><td>工件零点偏移值</td><td>int32/uint32</td><td>-</td><td>-</td></tr><tr><td>zofsInfoNum</td><td>工件零点偏移值数量</td><td>int32/uint32</td><td>-</td><td>-</td></tr><tr><td>zofsRange.m.n.l</td><td>件零点偏移设定范围</td><td>int32/uint32</td><td>m 为工件坐标偏移编号，n 为轴号，l 为 值类型</td><td>l=0 最小值 l=1 最大值 l=2状态</td></tr><tr><td>blkCount</td><td>块计数器</td><td>int32/uint32</td><td>-</td><td>-</td></tr><tr><td>execProg</td><td>当前真正执行的程序段</td><td>string</td><td>-</td><td>-</td></tr><tr><td>mdiPntr</td><td>MDI执行信息</td><td>int32/uint32</td><td>-</td><td>设备处于 MDI 模式时才可读</td></tr><tr><td>programMainFile</td><td>主程序文件信息</td><td>string</td><td>-</td><td>-</td></tr><tr><td>pdfCurDir</td><td>当前程序目录</td><td>string</td><td>-</td><td>-</td></tr><tr><td>pdfDrive.m</td><td>程序设备信息</td><td>string</td><td>m 为 设备序号</td><td>m 从1开始</td></tr><tr><td>progInfo.m</td><td>程序管理信息</td><td>int32/uint32</td><td>m 为值参数</td><td>m=0 已注册程序数 m=1 可使用程序数 m=2 已用内存字符数 m=2 未用内存的字符数</td></tr><tr><td>seqNum</td><td>程序序列号</td><td>int32/uint32</td><td>-</td><td>-</td></tr><tr><td>exaxisName.m.n</td><td>控制轴和主轴名</td><td>string</td><td>m 为轴类型，n 为序号</td><td>m=0 控制轴, m=1 主轴， n 从1开始</td></tr><tr><td>axisName.m</td><td>控制轴名</td><td>int8/uint8</td><td>m 为序号</td><td>m 从1开始</td></tr><tr><td>hndintrpt.m.n</td><td>手轮中断值</td><td>int32/uint32</td><td>m 为类型，n 为序号</td><td>m =0 输入 m=1 输出，n 从1开始</td></tr><tr><td>spdlName.m</td><td>主轴名</td><td>int8/uint8</td><td>m 为序号</td><td>m 从1开始</td></tr><tr><td>spmeter.m.n</td><td>主轴负载百分比</td><td>int32/uint32</td><td>m 为类型，n 为序号</td><td>m=0 主轴负载 m=1 主轴电机负载, n 为序号</td></tr><tr><td>svmeter.m</td><td>伺服负载百分比</td><td>int32/uint32</td><td>m 为序号</td><td>m 为序号</td></tr><tr><td>almhisno</td><td>历史报警数</td><td>int16/uint16</td><td>-</td><td>-</td></tr><tr><td>almhistry.m.n</td><td>历史报警内容</td><td>int16/uint16/string</td><td>m 为序号, n 为 值参数</td><td>m 从1开始， n=0 报警类型 n=1 报警编号 n=2 报警内容</td></tr><tr><td>omhisno</td><td>历史额外操作信息数</td><td>int16/uint16</td><td>-</td><td>-</td></tr><tr><td>omhistry.m.n</td><td>历史额外操作信息内容</td><td>int16/uint16/string</td><td>m 为序号, n 为 值参数</td><td>m 从1开始， n=0 显示标志 n=1 操作信息编号 n=2 操作信息内容</td></tr><tr><td>ophisno</td><td>历史操作信息数</td><td>int16/uint16</td><td>-</td><td>-</td></tr><tr><td>ophistry.m.n</td><td>历史操作信息内容</td><td>int16/uint16</td><td>m 为序号, n 为 值参数</td><td>m 从1开始</td></tr><tr><td>timer.m.n</td><td>日期时间</td><td>int16/uint16</td><td>m 为类型, n 为 值参数</td><td>m=0 日期， n=0 年， n=1 月， n=2 日；m=1 时间， n=0 时， n=1 分， n=2 秒</td></tr><tr><td>diagdata.m.n</td><td>诊断数据</td><td>int32/uint32</td><td>m 为诊断号, n 为 值参数</td><td>n = 0 诊断值，n=1 小数点</td></tr><tr><td>opmsg.m.n</td><td>当前操作信息</td><td>int16/uint16/string</td><td>m 为序号, n 为 值参数</td><td>m 从1开始，n = 0 类型，n=1 编号，n=2 内容</td></tr><tr><td>tlGrpinfo.m.n</td><td>刀具寿命管理信息</td><td>int32/uint32</td><td>m 为刀具组号, n 为 值参数</td><td>m 从1开始，n = 0 刀具数量，n=1 剩余刀具数量，n=2 刀具寿命，n=3 刀具已使用寿命, n=6， 刀具预警寿命</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p>轴数从1开始，根据实际轴数递增。 使用刀具寿命管理功能，需要开启设备相应的参数。 参数地址不设置 @p，默认为通道1。</p></div><p><em>CNC 地址示例</em></p><table tabindex="0"><thead><tr><th>地址</th><th>说明</th></tr></thead><tbody><tr><td>actf</td><td>读取 actual feed rate</td></tr><tr><td>absolute.1</td><td>读取第1个 axis 的 absolute position</td></tr><tr><td>absolute.1@2</td><td>读取通道2的第1个 axis 的 absolute position</td></tr><tr><td>machine.3</td><td>读取第3个 axis 的 machine position</td></tr><tr><td>spload.1</td><td>读取第1个 spindle 的 load information</td></tr><tr><td>spmaxrpm.3</td><td>读取第3个 spindle 的 maximum r.p.m ratio</td></tr><tr><td>param.6712.0</td><td>总加工件数</td></tr><tr><td>param.6711.0</td><td>加工件数</td></tr><tr><td>param.6750.0</td><td>上电时间</td></tr><tr><td>param.6753.0</td><td>切削时间</td></tr><tr><td>macro.3142.0</td><td>宏变量#3142的值</td></tr><tr><td>tool.1.0</td><td>编号1刀具的刀具号</td></tr><tr><td>tool.1.1</td><td>编号1刀具的已使用次数</td></tr><tr><td>tool.1.2</td><td>编号1刀具的总寿命</td></tr><tr><td>tool.1.3</td><td>编号1刀具的预警寿命</td></tr><tr><td>diagdata.1333.3</td><td>诊断1333号的数据</td></tr><tr><td>tlGrpinfo.1.1</td><td>刀具寿命组1的剩余刀具寿命</td></tr><tr><td>toolOffset.1.2</td><td>刀具编号1的长度磨损</td></tr></tbody></table><h2 id="pmc-数据" tabindex="-1">PMC 数据 <a class="header-anchor" href="#pmc-数据" aria-label="Permalink to “PMC 数据”">​</a></h2><h3 id="地址格式-1" tabindex="-1">地址格式 <a class="header-anchor" href="#地址格式-1" aria-label="Permalink to “地址格式”">​</a></h3><blockquote><p>AREA ADDRESS[.BIT][.LEN][@p]</p></blockquote><table tabindex="0"><thead><tr><th>标识</th><th>说明</th><th>类型</th><th>权限</th></tr></thead><tbody><tr><td>A</td><td>message demand</td><td>all</td><td>读写</td></tr><tr><td>C</td><td>counter</td><td>all</td><td>读写</td></tr><tr><td>D</td><td>data table</td><td>all</td><td>读写</td></tr><tr><td>E</td><td>extended relay</td><td>all</td><td>读写</td></tr><tr><td>F</td><td>signal to CNC -&gt; PMC</td><td>all</td><td>只读</td></tr><tr><td>G</td><td>signal to PMC -&gt; CNC</td><td>all</td><td>读写</td></tr><tr><td>K</td><td>keep relay</td><td>all</td><td>读写</td></tr><tr><td>M</td><td>input signal from other device</td><td>all</td><td>读写</td></tr><tr><td>N</td><td>output signal from other device</td><td>all</td><td>读写</td></tr><tr><td>R</td><td>internal relay</td><td>all</td><td>读写</td></tr><tr><td>T</td><td>changeable timer</td><td>all</td><td>读写</td></tr><tr><td>X</td><td>signal to machine -&gt; PMC</td><td>all</td><td>只读</td></tr><tr><td>Y</td><td>signal to PMC -&gt; machine</td><td>all</td><td>读写</td></tr></tbody></table><p><em>PMC 点位示例</em></p><table tabindex="0"><thead><tr><th>地址</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>A0</td><td>uint8/int8/uint16/int16/uint32/int32/int64/uint64/float/double</td><td>PMC <strong>message demand</strong> 区域，地址0的数据</td></tr><tr><td>A0.1</td><td>bit</td><td>PMC <strong>message demand</strong> 区域，地址0的的字节，第1个 bit 位</td></tr><tr><td>A0.0</td><td>bit</td><td>PMC <strong>message demand</strong> 区域，地址0的字节，第0个 bit 位</td></tr><tr><td>A0.2</td><td>string</td><td>PMC <strong>message demand</strong> 区域，地址0开始，长度为2的字符串</td></tr><tr><td>D0.2</td><td>string</td><td>PMC <strong>data table</strong> 区域，地址0开始，长度为2的字符串</td></tr><tr><td>D0.7</td><td>bit</td><td>PMC <strong>data table</strong> 区域，地址0的字节，第7个 bit 位</td></tr><tr><td>G12</td><td>uint8</td><td>PMC <strong>signal to PMC -&gt; CNC</strong> 区域，地址12的数据，255-(G12)，其值代表当前进给倍率</td></tr><tr><td>G30</td><td>uint16</td><td>PMC <strong>signal to PMC -&gt; CNC</strong> 区域，地址30的数，其值为主轴倍率</td></tr></tbody></table>',21)])])}const p=d(a,[["render",e]]);export{c as __pageData,p as default};
